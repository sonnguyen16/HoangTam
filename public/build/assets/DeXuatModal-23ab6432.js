import{T as k,z as w,q as C,o as s,c as l,a as e,e as c,w as i,f as g,u as t,v as m,n as r,B as f,F as p,k as b,t as v,O as M}from"./app-451a1b70.js";const N={id:"dexuatmodal",class:"modal fade",role:"dialog"},S={class:"modal-dialog modal-lg",role:"document"},V={class:"modal-content"},U={class:"modal-header"},B={class:"modal-body"},E={class:"form-group-container"},O={class:"form-group-title"},T={key:0,class:"txt-color mb-0 font-weight-bold"},D={key:1,class:"txt-color mb-0 font-weight-bold"},F={class:"form-group"},j=e("label",{for:"ten"},"Tên đề xuất",-1),z={class:"form-group"},L=e("label",{for:"noi_dung"},"Nội dung",-1),q={class:"form-group"},H=e("label",{for:"nguoi_duyet"},"Người duyệt",-1),I=["value"],X={class:"form-group"},A=e("label",{for:"nguoi_theo_doi"},"Người theo dõi",-1),G=["value"],J={class:"form-group"},K=e("label",{for:"file"},"File đính kèm",-1),P={class:"modal-footer"},Q=["disabled"],W={__name:"DeXuatModal",props:{de_xuat:Object,nhan_vien_list:Object},setup(u){const a=u,o=k({id:"",ten:"",noi_dung:"",nguoi_duyet:{},nguoi_theo_doi:[],file:""});w(()=>{o.id=a.de_xuat.id,o.ten=a.de_xuat.ten,o.noi_dung=a.de_xuat.noi_dung,o.nguoi_duyet=a.de_xuat.nguoi_duyet.id,o.nguoi_theo_doi=[],o.file=a.de_xuat.file});const x=()=>{o.post(route("dexuat.store"),{onSuccess:()=>{$("#dexuatmodal").modal("hide"),M.visit(route("dexuat.index"))},onError:()=>{console.log(o.errors)}})},h=()=>{$("#dexuatmodal").modal("hide"),o.reset(),$("#nguoi_theo_doi").val(null).trigger("change"),o.clearErrors()};function y(_){o.file=_.target.files}return C(()=>{$("#nguoi_theo_doi").select2({placeholder:"Chọn người theo dõi"}).on("change",function(_){o.nguoi_theo_doi=$(this).val()})}),(_,d)=>(s(),l("div",N,[e("div",S,[e("div",V,[e("div",U,[e("button",{type:"button",class:"close",onClick:c(h,["prevent"])},"×")]),e("form",{onSubmit:c(x,["prevent"])},[e("div",B,[i(e("input",{type:"hidden","onUpdate:modelValue":d[0]||(d[0]=n=>t(o).id=n),class:"form-control"},null,512),[[g,t(o).id]]),e("div",E,[e("div",O,[u.de_xuat.id?(s(),l("span",T,"Sửa đề xuất")):(s(),l("span",D,"Thêm đề xuất"))]),i(e("div",F,[j,i(e("input",{"onUpdate:modelValue":d[1]||(d[1]=n=>t(o).ten=n),type:"text",class:r([{"border border-danger":t(o).errors.ten},"form-control"]),name:"ten",placeholder:"Nhập tên đề xuất"},null,2),[[g,t(o).ten]])],512),[[m,!t(o).id]]),i(e("div",z,[L,i(e("textarea",{"onUpdate:modelValue":d[2]||(d[2]=n=>t(o).noi_dung=n),class:r([{"border border-danger":t(o).errors.noi_dung},"form-control"]),name:"noi_dung",placeholder:"Nhập nội dung đề xuất"},null,2),[[g,t(o).noi_dung]])],512),[[m,!t(o).id]]),e("div",q,[H,i(e("select",{"onUpdate:modelValue":d[3]||(d[3]=n=>t(o).nguoi_duyet=n),class:r([{"border border-danger":t(o).errors.nguoi_duyet},"form-control"]),name:"nguoi_duyet"},[(s(!0),l(p,null,b(u.nhan_vien_list,n=>(s(),l("option",{value:n.id},v(n.name),9,I))),256))],2),[[f,t(o).nguoi_duyet]])]),e("div",X,[A,i(e("select",{id:"nguoi_theo_doi","onUpdate:modelValue":d[4]||(d[4]=n=>t(o).nguoi_theo_doi=n),class:r([{"border border-danger":t(o).errors.nguoi_theo_doi},"form-control"]),name:"nguoi_theo_doi[]",multiple:""},[(s(!0),l(p,null,b(u.nhan_vien_list,n=>(s(),l("option",{value:n.id},v(n.name),9,G))),256))],2),[[f,t(o).nguoi_theo_doi]])]),i(e("div",J,[K,e("input",{type:"file",class:r({"border border-danger":t(o).errors.file}),name:"file",placeholder:"Chọn file đính kèm",multiple:"",onChange:y},null,34)],512),[[m,!t(o).id]])])]),e("div",P,[e("button",{type:"submit",disabled:t(o).processing,class:"btn btn-primary"},"Lưu",8,Q),e("button",{type:"button",class:"btn btn-default",onClick:c(h,["prevent"])},"Hủy")])],32)])])]))}};export{W as default};
