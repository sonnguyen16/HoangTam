import{T as M,z as N,q as S,o as i,c as l,a as e,e as m,w as s,f as g,u as t,v as h,n as r,B as f,F as p,k as b,t as v}from"./app-12a71e80.js";const V={id:"dexuatmodal",class:"modal fade",role:"dialog"},C={class:"modal-dialog modal-lg",role:"document"},U={class:"modal-content"},B={class:"modal-header"},E={class:"modal-body"},T={class:"form-group-container"},D={class:"form-group-title"},F={key:0,class:"txt-color mb-0 font-weight-bold"},j={key:1,class:"txt-color mb-0 font-weight-bold"},z={class:"form-group"},L=e("label",{for:"ten"},"Tên đề xuất",-1),O={class:"form-group"},q=e("label",{for:"noi_dung"},"Nội dung",-1),H={class:"form-group"},I=e("label",{for:"nguoi_duyet"},"Người duyệt",-1),X=["value"],A={class:"form-group"},G=e("label",{for:"nguoi_theo_doi"},"Người theo dõi",-1),J=["value"],K={class:"form-group"},P=e("label",{for:"file"},"File đính kèm",-1),Q={class:"modal-footer"},R=["disabled"],Y={__name:"DeXuatModal",props:{de_xuat:Object,nhan_vien_list:Object},emits:["reload"],setup(u,{emit:x}){const a=u,y=x,o=M({id:"",ten:"",noi_dung:"",nguoi_duyet:{},nguoi_theo_doi:[],file:""});N(()=>{o.id=a.de_xuat.id,o.ten=a.de_xuat.ten,o.noi_dung=a.de_xuat.noi_dung,o.nguoi_duyet=a.de_xuat.nguoi_duyet.id,o.file=a.de_xuat.file});const k=()=>{o.post(route("dexuat.store"),{onSuccess:()=>{y("reload",o.id),_()},onError:()=>{console.log(o.errors)}})},_=()=>{o.reset(),o.clearErrors(),$("#dexuatmodal").modal("hide"),$("#nguoi_theo_doi").val(null).trigger("change")};function w(c){o.file=c.target.files}return S(()=>{$("#nguoi_theo_doi").select2().on("change",function(c){o.nguoi_theo_doi=$(this).val()})}),(c,d)=>(i(),l("div",V,[e("div",C,[e("div",U,[e("div",B,[e("button",{type:"button",class:"close",onClick:m(_,["prevent"])},"×")]),e("form",{onSubmit:m(k,["prevent"])},[e("div",E,[s(e("input",{type:"hidden","onUpdate:modelValue":d[0]||(d[0]=n=>t(o).id=n),class:"form-control"},null,512),[[g,t(o).id]]),e("div",T,[e("div",D,[u.de_xuat.id?(i(),l("span",F,"Sửa đề xuất")):(i(),l("span",j,"Thêm đề xuất"))]),s(e("div",z,[L,s(e("input",{"onUpdate:modelValue":d[1]||(d[1]=n=>t(o).ten=n),type:"text",class:r([{"border border-danger":t(o).errors.ten},"form-control"]),name:"ten",placeholder:"Nhập tên đề xuất"},null,2),[[g,t(o).ten]])],512),[[h,!t(o).id]]),s(e("div",O,[q,s(e("textarea",{"onUpdate:modelValue":d[2]||(d[2]=n=>t(o).noi_dung=n),class:r([{"border border-danger":t(o).errors.noi_dung},"form-control"]),name:"noi_dung",placeholder:"Nhập nội dung đề xuất"},null,2),[[g,t(o).noi_dung]])],512),[[h,!t(o).id]]),e("div",H,[I,s(e("select",{"onUpdate:modelValue":d[3]||(d[3]=n=>t(o).nguoi_duyet=n),class:r([{"border border-danger":t(o).errors.nguoi_duyet},"form-control"]),name:"nguoi_duyet"},[(i(!0),l(p,null,b(u.nhan_vien_list,n=>(i(),l("option",{value:n.id},v(n.name),9,X))),256))],2),[[f,t(o).nguoi_duyet]])]),e("div",A,[G,s(e("select",{id:"nguoi_theo_doi","onUpdate:modelValue":d[4]||(d[4]=n=>t(o).nguoi_theo_doi=n),class:r([{"border border-danger":t(o).errors.nguoi_theo_doi},"form-control"]),name:"nguoi_theo_doi[]",multiple:""},[(i(!0),l(p,null,b(u.nhan_vien_list,n=>(i(),l("option",{value:n.id},v(n.name),9,J))),256))],2),[[f,t(o).nguoi_theo_doi]])]),s(e("div",K,[P,e("input",{type:"file",class:r({"border border-danger":t(o).errors.file}),name:"file",placeholder:"Chọn file đính kèm",multiple:"",onChange:w},null,34)],512),[[h,!t(o).id]])])]),e("div",Q,[e("button",{type:"submit",disabled:t(o).processing,class:"btn btn-primary"},"Lưu",8,R),e("button",{type:"button",class:"btn btn-default",onClick:m(_,["prevent"])},"Hủy")])],32)])])]))}};export{Y as default};
