import{T as S,z as V,o as i,c as _,a as t,e as m,w as r,f as u,u as n,n as c,B as h,F as g,k as f,t as b,x as M,y as U,O as w}from"./app-451a1b70.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const a=l=>(M("data-v-a0964375"),l=l(),U(),l),T={id:"duanmodal",class:"modal fade",tabindex:"-1",style:{"z-index":"1051"},role:"dialog"},D={class:"modal-dialog modal-lg",role:"document"},I={class:"modal-content"},j={class:"modal-header"},B={class:"modal-body"},E={class:"form-group-container"},L={class:"form-group-title"},N={key:0,class:"txt-color mb-0 font-weight-bold"},O={key:1,class:"txt-color mb-0 font-weight-bold"},z={class:"form-group"},A=a(()=>t("label",{for:"name"},"Tên dự án",-1)),F={class:"form-group"},H=a(()=>t("label",{for:"name"},"Người phụ trách",-1)),q=a(()=>t("option",{value:""},"Chọn người phụ trách",-1)),G=["value"],J={class:"form-group"},K=a(()=>t("label",{for:"name"},"Ngày bắt đầu",-1)),P={class:"form-group"},Q=a(()=>t("label",{for:"name"},"Ngày kết thúc",-1)),R={class:"form-group"},W=a(()=>t("label",{for:"name"},"Mô tả",-1)),X={class:"form-group"},Y=a(()=>t("label",{for:"name"},"Trạng thái",-1)),Z=a(()=>t("option",{value:""},"Chọn trạng thái",-1)),tt=a(()=>t("option",{value:"0"},"Chưa triển khai",-1)),ot=a(()=>t("option",{value:"1"},"Đang triển khai",-1)),et=a(()=>t("option",{value:"2"},"Đã hoàn thành",-1)),nt=[Z,tt,ot,et],st={class:"form-group"},at=a(()=>t("label",{for:"name"},"Tệp đính kèm",-1)),dt=["href"],rt={class:"modal-footer"},lt=["disabled"],it={__name:"DuAnModal",props:{du_an:Object,users:Object},emits:["reload"],setup(l,{emit:y}){const d=l,o=S({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",mo_ta:"",trang_thai:"",parent_id:"",children:[],files:[]});V(()=>{o.id=d.du_an.id,o.ten=d.du_an.ten,o.ngay_bat_dau=d.du_an.ngay_bat_dau,o.ngay_ket_thuc=d.du_an.ngay_ket_thuc,o.user_id=d.du_an.user_id,o.mo_ta=d.du_an.mo_ta,o.trang_thai=d.du_an.trang_thai,o.parent_id=d.du_an.parent_id,o.children=d.du_an.children,o.files=d.du_an.files});const v=()=>{o.post(route("duan.store"),{onSuccess:()=>{p(),w.reload({preserveState:!0}),toastr.success("Lưu thành công"),x()},onError:()=>{toastr.error("Lưu thất bại"),console.log(o.errors)}})},p=()=>{$("#duanmodal").modal("hide"),o.reset(),o.clearErrors(),$("#files").val("")},k=y,x=()=>{k("reload")};return(_t,s)=>(i(),_("div",T,[t("div",D,[t("div",I,[t("div",j,[t("button",{type:"button",class:"close",onClick:m(p,["prevent"])},"×")]),t("form",{onSubmit:m(v,["prevent"])},[t("div",B,[r(t("input",{type:"hidden","onUpdate:modelValue":s[0]||(s[0]=e=>n(o).id=e),id:"id",class:"form-control"},null,512),[[u,n(o).id]]),t("div",E,[t("div",L,[l.du_an.id?(i(),_("span",N,"Sửa dự án")):(i(),_("span",O,"Thêm dự án"))]),t("div",z,[A,r(t("input",{class:c([{"border-danger":n(o).errors.ten},"form-control"]),type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>n(o).ten=e),id:"ten"},null,2),[[u,n(o).ten]])]),t("div",F,[H,r(t("select",{class:c([{"border-danger":n(o).errors.user_id},"form-control"]),"onUpdate:modelValue":s[2]||(s[2]=e=>n(o).user_id=e),id:"user_id"},[q,(i(!0),_(g,null,f(l.users,e=>(i(),_("option",{key:e.id,value:e.id},b(e.name),9,G))),128))],2),[[h,n(o).user_id]])]),r(t("input",{type:"hidden","onUpdate:modelValue":s[3]||(s[3]=e=>n(o).parent_id=e)},null,512),[[u,n(o).parent_id]]),t("div",J,[K,r(t("input",{class:c([{"border-danger":n(o).errors.ngay_bat_dau},"form-control"]),type:"date","onUpdate:modelValue":s[4]||(s[4]=e=>n(o).ngay_bat_dau=e),id:"ngay_bat_dau"},null,2),[[u,n(o).ngay_bat_dau]])]),t("div",P,[Q,r(t("input",{class:c([{"border-danger":n(o).errors.ngay_ket_thuc},"form-control"]),type:"date","onUpdate:modelValue":s[5]||(s[5]=e=>n(o).ngay_ket_thuc=e),id:"ngay_ket_thuc"},null,2),[[u,n(o).ngay_ket_thuc]])]),t("div",R,[W,r(t("textarea",{class:c([{"border-danger":n(o).errors.mo_ta},"form-control"]),type:"text","onUpdate:modelValue":s[6]||(s[6]=e=>n(o).mo_ta=e),id:"mo_ta"},null,2),[[u,n(o).mo_ta]])]),t("div",X,[Y,r(t("select",{class:c([{"border-danger":n(o).errors.trang_thai},"form-control"]),"onUpdate:modelValue":s[7]||(s[7]=e=>n(o).trang_thai=e),id:"trang_thai"},nt,2),[[h,n(o).trang_thai]])]),t("div",st,[at,t("input",{accept:".png, .jpg, .jpeg, .gif, .bmp, .doc, .docx, .xls, .xlsx, .pdf",type:"file",onInput:s[8]||(s[8]=e=>n(o).files=e.target.files),id:"files",multiple:""},null,32)]),t("ul",null,[(i(!0),_(g,null,f(n(o).files,e=>(i(),_("li",{key:e.id},[t("a",{href:`/uploads/${e.ten}`,target:"_blank"},b(e.ten),9,dt)]))),128))])])]),t("div",rt,[t("button",{type:"submit",disabled:n(o).processing,class:"btn btn-primary"},"Lưu",8,lt),t("button",{type:"button",class:"btn btn-default",onClick:m(p,["prevent"])},"Hủy")])],32)])])]))}},pt=C(it,[["__scopeId","data-v-a0964375"]]);export{pt as default};
