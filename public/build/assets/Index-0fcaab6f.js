import{h as C,i as N,j as V,o as s,b as K,d as E,a as t,e as d,m as u,t as n,w as F,f as I,u as _,p as P,c as i,k as M,F as S,l as z,g as L,O as h,n as R}from"./app-373e469d.js";import{_ as U}from"./MainLayout-8f30e4f1.js";import X from"./NhapKhoModal-8e397d3f.js";import{h as T}from"./moment-a9aaa855.js";/* empty css                     *//* empty css              */import"./lodash-e8e929fd.js";import"./_plugin-vue_export-helper-c27b6911.js";const q=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[u("Nhập xuất kho "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),u(" Phiếu nhập kho")])])],-1),A={class:"card shadow card-child",style:{}},G={class:"card-body"},H={class:"row mb-3"},J={class:"col-md-2"},Q={class:"col-md-2 d-flex align-items-center"},W=t("b",null,"Tổng tiền nhập: ",-1),Z={class:"col-md-8"},tt={class:"row"},at=t("div",{class:"col-md-3"},null,-1),ot=t("div",{class:"col-md-6"},null,-1),nt={class:"col-md-3"},st={class:"input-group"},et=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),lt={class:"table table-bordered table-responsive-md"},it=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Ngày"),t("th",null,"Mã phiếu"),t("th",null,"Nhà cung cấp"),t("th",null,"Kho"),t("th",null,"Ngày tạo"),t("th",null,"Tổng tiền"),t("th",null,"Thao tác")])],-1),ct={key:0},dt=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),_t=[dt],ht={class:"text-center"},rt={class:"text-center"},ut={class:"text-center"},mt={class:"text-center"},pt={class:"money"},gt={style:{width:"10%"}},vt=["onClick"],bt=["href"],ft=["onClick"],yt={class:"float-right mt-3 mb-0"},kt={class:"row"},xt={class:"col-md-12 col-lg-12 text-center"},wt={key:0,class:"pagination"},Ct=["onClick"],Nt={__name:"Index",props:{hoa_don_list:Object,nha_cung_cap_list:Object,kho_list:Object,san_pham_list:Object,du_an_list:Object},setup(e){const m=e;let r=C({id:"",ma:"",ngay:"",nha_cung_cap:{},kho:{},ghi_chu:"",chi_tiet_hoa_don:[],du_an_id:""}),c=C("");function Y(){r.value={id:"",ma:"",ngay:"",nha_cung_cap:{},kho:{},ghi_chu:"",chi_tiet_hoa_don:[],du_an_id:""},$("#hoadonmodal").modal("show")}const l=N(()=>(console.log(m.hoa_don_list),m.hoa_don_list));V(c,o=>{h.visit(route("hoadon.index",{search:o,loai:"nhapkho"}),{preserveState:!0})});function B(o){h.visit(o,{preserveState:!0})}function D(o){r.value={id:o.id,ma:o.ma,nha_cung_cap:o.nha_cung_cap,kho:o.kho,ghi_chu:o.ghi_chu,chi_tiet_hoa_don:o.chi_tiet_hoa_don,ngay:o.ngay,du_an_id:o.du_an_id},$("#hoadonmodal").modal("show")}function O(o){confirm("Bạn có chắc chắn muốn xóa hóa đơn này không?")&&h.delete(route("hoadon.delete",{id:o}),{onSuccess:()=>{h.visit(route("hoadon.index",{loai:"nhapkho"}))},onError:()=>{console.log(form.errors)}})}return(o,p)=>(s(),K(U,null,{default:E(()=>{var g,v,b,f,y;return[q,t("div",A,[t("div",G,[t("div",H,[t("div",J,[t("a",{onClick:d(Y,["prevent"]),class:"btn btn-primary form-control"},"Thêm phiếu nhập kho")]),t("div",Q,[W,u(" "+n(((g=e.hoa_don_list.data[0])==null?void 0:g.tong_tien_nhap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1)]),t("div",Z,[t("form",null,[t("div",tt,[at,ot,t("div",nt,[t("div",st,[F(t("input",{"onUpdate:modelValue":p[0]||(p[0]=a=>P(c)?c.value=a:c=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm hóa đơn"},null,512),[[I,_(c)]]),et])])])])])]),t("table",lt,[it,t("tbody",null,[((v=l.value)==null?void 0:v.data.length)===0?(s(),i("tr",ct,_t)):(s(!0),i(S,{key:1},M((b=l.value)==null?void 0:b.data,(a,k)=>{var x,w;return s(),i("tr",{key:a.id},[t("td",ht,n(k+1),1),t("td",rt,n(_(T)(a.ngay).format("DD/MM/YYYY")),1),t("td",ut,n(a.ma),1),t("td",null,n((x=a.nha_cung_cap)==null?void 0:x.ten),1),t("td",null,n((w=a.kho)==null?void 0:w.ten),1),t("td",mt,n(_(T)(a.created_at).format("DD/MM/YYYY")),1),t("td",pt,n(a.tong_tien.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",gt,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:d(j=>D(a),["prevent"])},"Sửa",8,vt),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",target:"_blank",href:o.route("hoadon.print",{id:a.id})},"In phiếu",8,bt),t("a",{class:"btn btn-danger btn-sm",onClick:d(j=>O(a.id),["prevent"])},"Xóa",8,ft)])])}),128))])]),t("div",yt,[t("div",kt,[t("div",xt,[((f=l.value)==null?void 0:f.meta.total)>((y=l.value)==null?void 0:y.meta.per_page)?(s(),i("ul",wt,[(s(!0),i(S,null,M(l.value.meta.links.slice(1,-1),a=>(s(),i("li",{key:a,class:"page-item"},[t("a",{class:R(["page-link",{"bg-primary":a.label===l.value.meta.current_page.toString()}]),onClick:d(k=>B(a.url),["prevent"])},n(a.label),11,Ct)]))),128))])):z("",!0)])])])])]),L(X,{hoa_don:_(r),nha_cung_cap_list:e.nha_cung_cap_list,kho_list:e.kho_list,san_pham_list:e.san_pham_list,du_an_list:e.du_an_list},null,8,["hoa_don","nha_cung_cap_list","kho_list","san_pham_list","du_an_list"])]}),_:1}))}};export{Nt as default};
