import{h as d,E as j,o as n,c as a,a as e,n as b,D as I,l as y,e as $,u as _,m as S,t as k,F as f,k as w,b as C,x as T,y as D,i as B,j as M,q as N,d as V,w as z,f as E,p as F,g as x,O as L}from"./app-12a71e80.js";import{_ as q}from"./MainLayout-cdeec635.js";import A from"./DuAnModal-0e280672.js";import R from"./ChiTiet2-1d47dde3.js";import U from"./TheoDoi-b151166c.js";/* empty css                                                                 */import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                     *//* empty css              */const G=t=>(T("data-v-fc0e59e5"),t=t(),D(),t),H={class:"row mb-3"},J={key:0,class:"vertical-line"},K={class:"col-lg-3 d-lg-block d-none"},P={key:0,class:"badge badge-warning"},Q={key:1,class:"badge badge-primary"},W={key:2,class:"badge badge-success"},X={class:"col-lg-2"},Y=G(()=>e("i",{class:"fa fa-eye"},null,-1)),Z=[Y],ee={__name:"TreeSearchItem",props:{item:Object,isChild:{type:Boolean,default:!1},level:{type:Number,default:0}},emits:["choose"],setup(t,{emit:h}){let o=d(!1);const r=h;function i(){o.value=!o.value}return(u,l)=>{const m=j("TreeSearchItem",!0);return n(),a("div",null,[e("div",H,[e("div",{class:b(["col-lg-7 col-9",{"child-container":t.isChild}]),style:I({paddingLeft:`${t.level*15}px`})},[e("span",{style:I({width:`${t.level*15}px`}),class:"line-connector"},null,4),t.isChild?(n(),a("span",J)):y("",!0),e("a",{onClick:$(i,["prevent"]),class:b([t.item.children?"cursor-pointer":"cursor-text","mb-2 text-black"])},[t.item.children?(n(),a("i",{key:0,class:b(["fa fa-folder mr-2 text-amber-400 text-lg",_(o)?"fa-folder-open":"fa-folder-closed"])},null,2)):y("",!0),S(" "+k(t.item.ten),1)],2)],6),e("div",K,[e("span",null,[t.item.tien_do==0?(n(),a("span",P,"Chưa thực hiện")):t.item.tien_do>0&&t.item.tien_do<100?(n(),a("span",Q,"Đang thực hiện")):(n(),a("span",W,"Đã hoàn thành"))])]),e("div",X,[e("button",{onClick:l[0]||(l[0]=$(s=>r("choose",t.item),["prevent"])),class:"ms-5"},Z)])]),e("div",null,[_(o)?(n(!0),a(f,{key:0},w(t.item.children,s=>(n(),C(m,{"is-child":!0,level:t.level+1,key:s.id,item:s,onChoose:l[1]||(l[1]=v=>u.$emit("choose",v))},null,8,["level","item"]))),128)):y("",!0)])])}}},te=O(ee,[["__scopeId","data-v-fc0e59e5"]]);const p=t=>(T("data-v-28acbfc3"),t=t(),D(),t),se={class:"card shadow card-child",style:{}},ne={class:"card-body p-0"},ae={class:"row"},ie={class:"col-md-3"},oe={class:"row p-3"},le={class:"col-md-8"},ce={class:"input-group"},de=p(()=>e("div",{class:"input-group-append"},[e("button",{class:"btn btn-primary",type:"submit"},[e("i",{class:"fas fa-search"})])],-1)),_e=p(()=>e("h4",{class:"txt-color font-weight-bold borders ml-3 mb-3"},"Danh sách công việc",-1)),re={class:"border p-3"},ue={class:"d-flex justify-content-between mb-[8px]"},me={class:"font-weight-bold text-emerald-600"},he=p(()=>e("i",{class:"fa fa-file me-1"},null,-1)),ve=["onClick"],fe=p(()=>e("i",{class:"fa fa-eye"},null,-1)),pe=[fe],ge={class:"ms-[20px]"},be={class:"col-md-7 p-3"},ye={class:"col-md-2 pt-3 pr-2"},xe={__name:"Index",props:{du_an_list:Object,nhan_vien_list:Object},setup(t){const h=t;let o=d({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",tien_do:0,parent_id:"",files:[]}),r=d({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",tien_do:0,parent_id:"",children:[],files:[],binh_luan:[],nguoi_theo_doi:[]}),i=d("");d(!1);const u=B(()=>h.du_an_list),l=d(h.du_an_list[0]);M(i,s=>{L.visit(route("congviec.index",{search:s}),{preserveState:!0})});function m(s){l.value=s,r.value={id:s.id,ten:s.ten,ngay_bat_dau:s.ngay_bat_dau,ngay_ket_thuc:s.ngay_ket_thuc,user_id:s.user_id,mo_ta:s.mo_ta,tien_do:s.tien_do,parent_id:s.parent_id,children:s.children,files:s.files,binh_luan:s.binh_luan,nguoi_theo_doi:s.nguoi_theo_doi,nhan_vien:s.nhan_vien}}return N(()=>{m(u.value[0]?u.value[0]:{})}),(s,v)=>(n(),C(q,null,{default:V(()=>[e("div",se,[e("div",ne,[e("div",ae,[e("div",ie,[e("div",oe,[e("div",le,[e("div",ce,[z(e("input",{"onUpdate:modelValue":v[0]||(v[0]=c=>F(i)?i.value=c:i=c),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm công việc"},null,512),[[E,_(i)]]),de])])]),_e,e("div",re,[(n(!0),a(f,null,w(u.value,c=>(n(),a(f,null,[e("div",ue,[e("h6",me,[he,S(" "+k(c.ten),1)]),e("button",{onClick:$(g=>m(c),["prevent"]),class:"me-[18px]"},pe,8,ve)]),e("div",ge,[(n(!0),a(f,null,w(c.children,g=>(n(),C(te,{key:g.id,item:g,onChoose:m},null,8,["item"]))),128))])],64))),256))])]),e("div",be,[x(R,{du_an:_(r),users:t.nhan_vien_list},null,8,["du_an","users"])]),e("div",ye,[x(U,{du_an:_(r)},null,8,["du_an"])])])])]),x(A,{du_an:_(o),users:t.nhan_vien_list},null,8,["du_an","users"])]),_:1}))}},je=O(xe,[["__scopeId","data-v-28acbfc3"]]);export{je as default};
