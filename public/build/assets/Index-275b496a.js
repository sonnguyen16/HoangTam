import{h as v,i as S,j as T,o as a,b as B,d as M,a as t,e as c,w as V,f as E,u as p,p as N,c as r,k as O,F as j,g as f,m as b,O as n,t as i}from"./app-4c6714ee.js";import{_ as F}from"./MainLayout-704f35ea.js";import P from"./DonViModal-634bfe3c.js";import{_ as H}from"./Pagination-95128e28.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const I=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[b("Hệ thống "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),b(" Danh sách đơn vị")])])],-1),K={class:"card shadow card-child",style:{}},L={class:"card-body"},R={class:"row mb-3"},U={class:"col-md-2"},X={class:"col-md-10"},q={class:"row"},z=t("div",{class:"col-md-3"},null,-1),A=t("div",{class:"col-md-6"},null,-1),G={class:"col-md-3"},J={class:"input-group"},Q=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),W={class:"table table-bordered table-responsive-md"},Y=t("thead",null,[t("tr",null,[t("th",null,"Tên đơn vị"),t("th",null,"Địa chỉ"),t("th",null,"Số điện thoại"),t("th",null,"Email"),t("th",null,"Thao tác")])],-1),Z={key:0},tt=t("td",{colspan:"6",class:"text-center"},"Không có dữ liệu",-1),et=[tt],ot={class:"action"},st=["onClick"],at=["onClick"],mt={__name:"Index",props:{don_vi_list:Object},setup(g){const y=g;let l=v({id:"",ten:"",dia_chi:"",dien_thoai:"",email:"",stk_1:"",stk_2:"",logo:""}),s=v("");function w(){l.value={id:"",ten:"",dia_chi:"",dien_thoai:"",email:"",stk_1:"",stk_2:"",logo:""},$("#donvimodal").modal("show")}const d=S(()=>y.don_vi_list);T(s,e=>{n.visit(route("donvi.index",{search:e}),{preserveState:!0})});function x(e){n.visit(e,{preserveState:!0})}function k(e){console.log(s.value),l.value={id:e.id,ten:e.ten,dia_chi:e.dia_chi,dien_thoai:e.dien_thoai,email:e.email,stk_1:e.stk_1,stk_2:e.stk_2,logo:e.logo},$("#donvimodal").modal("show")}function C(e){confirm("Bạn có chắc chắn muốn xóa đơn vị này không?")&&n.delete(route("donvi.delete",{id:e}),{onSuccess:()=>{n.visit(route("donvi.index"))},onError:()=>{console.log(form.errors)}})}return(e,_)=>(a(),B(F,null,{default:M(()=>{var m,u,h;return[I,t("div",K,[t("div",L,[t("div",R,[t("div",U,[t("a",{onClick:c(w,["prevent"]),class:"btn btn-primary form-control"},"Thêm đơn vị")]),t("div",X,[t("form",null,[t("div",q,[z,A,t("div",G,[t("div",J,[V(t("input",{"onUpdate:modelValue":_[0]||(_[0]=o=>N(s)?s.value=o:s=o),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm đơn vị"},null,512),[[E,p(s)]]),Q])])])])])]),t("table",W,[Y,t("tbody",null,[((u=(m=d.value)==null?void 0:m.data)==null?void 0:u.length)===0?(a(),r("tr",Z,et)):(a(!0),r(j,{key:1},O((h=d.value)==null?void 0:h.data,o=>(a(),r("tr",{key:o.id},[t("td",null,i(o.ten),1),t("td",null,i(o.dia_chi),1),t("td",null,i(o.dien_thoai),1),t("td",null,i(o.email),1),t("td",ot,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:c(D=>k(o),["prevent"])},"Sửa",8,st),t("a",{class:"btn btn-danger btn-sm",onClick:c(D=>C(o.id),["prevent"])},"Xóa",8,at)])]))),128))])]),f(H,{allData:d.value,onChangePage:x},null,8,["allData"])])]),f(P,{don_vi:p(l)},null,8,["don_vi"])]}),_:1}))}};export{mt as default};
