import{h as f,i as B,j as D,o as e,b as O,d as T,a as t,e as i,w as j,f as V,u as h,p as E,c as o,k as y,F as w,l as F,g as N,O as d,t as l,n as X}from"./app-b43ce174.js";import{_ as z}from"./MainLayout-6605a465.js";import G from"./DonMuaModal-fac759a9.js";import{f as I}from"./script-4eb152de.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-9c75ffc3.js";import"./moment-a9aaa855.js";const K={class:"card shadow card-child",style:{}},L={class:"card-body"},P={class:"row mb-3"},R={class:"col-md-2"},U={class:"col-md-10"},q={class:"row"},A=t("div",{class:"col-md-3"},null,-1),H=t("div",{class:"col-md-6"},null,-1),J={class:"col-md-3"},Q={class:"input-group"},W=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),Y={class:"table table-bordered table-responsive-md"},Z=t("thead",null,[t("tr",null,[t("th",null,"Mã đơn"),t("th",null,"Nhà cung cấp"),t("th",null,"Ghi chú"),t("th",null,"Tổng tiền"),t("th",null,"Ngày tạo"),t("th",null,"Thao tác")])],-1),tt={key:0},nt=t("td",{colspan:"7",class:"text-center"},"Không có dữ liệu",-1),at=[nt],et={class:"money"},st={class:"date"},ot={style:{width:"10%"},class:"text-center"},lt=["onClick"],ct=["href"],it=["onClick"],dt={class:"float-right mt-3 mb-0"},_t={class:"row"},rt={class:"col-md-12 col-lg-12 text-center"},ht={key:0,class:"pagination"},ut=["onClick"],Ct={__name:"Index",props:{don_hang_list:Object,nha_cung_cap_list:Object,san_pham_list:Object},setup(_){const x=_;let r=f({id:"",ma:"",ngay:"",nha_cung_cap:{},ghi_chu:"",chi_tiet_don_hang:[]}),c=f("");function C(){r.value={id:"",ma:"",ngay:"",nha_cung_cap:{},ghi_chu:"",chi_tiet_don_hang:[]},$("#donhangmodal").modal("show")}const s=B(()=>x.don_hang_list);D(c,a=>{d.visit(route("donhang.index",{search:a,loai:"donmua"}),{preserveState:!0})});function k(a){d.visit(a,{preserveState:!0})}function M(a){r.value={id:a.id,ma:a.ma,ngay:a.ngay,nha_cung_cap:a.nha_cung_cap,ghi_chu:a.ghi_chu,chi_tiet_don_hang:a.chi_tiet_don_hang},$("#donhangmodal").modal("show")}function S(a){confirm("Bạn có chắc chắn muốn xóa đơn hàng này không?")&&d.delete(route("donhang.delete",{id:a}),{onSuccess:()=>{d.visit(route("donhang.index",{loai:"donmua"}))},onError:()=>{console.log(form.errors)}})}return(a,u)=>(e(),O(z,null,{default:T(()=>{var m,g,p,v;return[t("div",K,[t("div",L,[t("div",P,[t("div",R,[t("a",{onClick:i(C,["prevent"]),class:"btn btn-primary form-control"},"Thêm đơn mua")]),t("div",U,[t("form",null,[t("div",q,[A,H,t("div",J,[t("div",Q,[j(t("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>E(c)?c.value=n:c=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm đơn hàng"},null,512),[[V,h(c)]]),W])])])])])]),t("table",Y,[Z,t("tbody",null,[((m=s.value)==null?void 0:m.data.length)===0?(e(),o("tr",tt,at)):(e(!0),o(w,{key:1},y((g=s.value)==null?void 0:g.data,n=>(e(),o("tr",{key:n.id},[t("td",null,l(n.ma),1),t("td",null,l(n.nha_cung_cap.ten),1),t("td",null,l(n.ghi_chu),1),t("td",et,l(n.tong_tien.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",st,l(h(I)(n.created_at)),1),t("td",ot,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:i(b=>M(n),["prevent"])},"Sửa",8,lt),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",href:a.route("donhang.print",{id:n.id})},"Xuất",8,ct),t("a",{class:"btn btn-danger btn-sm",onClick:i(b=>S(n.id),["prevent"])},"Xóa",8,it)])]))),128))])]),t("div",dt,[t("div",_t,[t("div",rt,[((p=s.value)==null?void 0:p.meta.total)>((v=s.value)==null?void 0:v.meta.per_page)?(e(),o("ul",ht,[(e(!0),o(w,null,y(s.value.meta.links.slice(1,-1),n=>(e(),o("li",{key:n,class:"page-item"},[t("a",{class:X(["page-link",{"bg-primary":n.label===s.value.meta.current_page.toString()}]),onClick:i(b=>k(n.url),["prevent"])},l(n.label),11,ut)]))),128))])):F("",!0)])])])])]),N(G,{don_hang:h(r),nha_cung_cap_list:_.nha_cung_cap_list,san_pham_list:_.san_pham_list},null,8,["don_hang","nha_cung_cap_list","san_pham_list"])]}),_:1}))}};export{Ct as default};
