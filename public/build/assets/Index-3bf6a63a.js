import{h as f,i as B,j as N,o as e,b as M,d as P,a as t,e as h,w as V,f as E,u,p as F,c as o,k as I,F as q,g as y,m as w,O as c,t as n}from"./app-6a954927.js";import{_ as K}from"./MainLayout-cc32efa1.js";import L from"./PhieuChiModal-2ca72382.js";import{f as R}from"./script-4eb152de.js";import{_ as U}from"./Pagination-d157eae6.js";/* empty css                     *//* empty css              */import"./moment-a9aaa855.js";const X=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[w("Phiếu thu chi "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),w(" Phiếu chi")])])],-1),k={class:"card shadow card-child",style:{}},z={class:"card-body"},A={class:"row mb-3"},G={class:"col-md-2"},H={class:"col-md-10"},J={class:"row"},Q=t("div",{class:"col-md-3"},null,-1),W=t("div",{class:"col-md-6"},null,-1),Y={class:"col-md-3"},Z={class:"input-group"},tt=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),it={class:"table table-bordered table-responsive-md"},at=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Mã phiếu"),t("th",null,"Nhà cung cấp"),t("th",null,"Người chi"),t("th",null,"Dự án"),t("th",null,"Trạng thái"),t("th",null,"Ngày tạo"),t("th",null,"Số tiền"),t("th",null,"Thao tác")])],-1),nt={key:0},et=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),st=[et],lt={class:"quantity"},ot={key:0,class:"badge badge-warning"},ct={key:1,class:"badge badge-success"},_t={class:"date"},dt={class:"money"},ht={style:{width:"10%"}},ut=["onClick"],rt=["href"],pt=["onClick"],Ct={__name:"Index",props:{phieu_thu_chi_list:Object,nha_cung_cap_list:Object,du_an_list:Object,nhan_vien_list:Object,loai_thu_chi_list:Object},setup(x){const s=x;let _=f({id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""}),l=f("");function C(){_.value={id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""},$("#phieuthuchimodal").modal("show")}const d=B(()=>s.phieu_thu_chi_list);N(l,i=>{c.visit(route("phieuthuchi.index",{search:i,loai:"phieuchi"}),{preserveState:!0})});function S(i){c.visit(i,{preserveState:!0})}function T(i){_.value={id:i.id,ma:i.ma,ngay:i.ngay,nha_cung_cap_id:i.nha_cung_cap_id,du_an_id:i.du_an_id,nhan_vien_id:i.nhan_vien_id,loai_thu_chi_id:i.loai_thu_chi_id,ly_do:i.ly_do,so_tien:i.so_tien,trang_thai:i.trang_thai},$("#phieuthuchimodal").modal("show")}function D(i){confirm("Bạn có chắc chắn muốn xóa phiếu chi này không?")&&c.delete(route("phieuthuchi.delete",{id:i}),{onSuccess:()=>{c.visit(route("phieuthuchi.index",{loai:"phieuchi"}))},onError:()=>{console.log(form.errors)}})}return(i,r)=>(e(),M(K,null,{default:P(()=>{var p,m;return[X,t("div",k,[t("div",z,[t("div",A,[t("div",G,[t("a",{onClick:h(C,["prevent"]),class:"btn btn-primary form-control"},"Thêm phiếu chi")]),t("div",H,[t("form",null,[t("div",J,[Q,W,t("div",Y,[t("div",Z,[V(t("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>F(l)?l.value=a:l=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm phiếu chi"},null,512),[[E,u(l)]]),tt])])])])])]),t("table",it,[at,t("tbody",null,[((p=d.value)==null?void 0:p.data.length)===0?(e(),o("tr",nt,st)):(e(!0),o(q,{key:1},I((m=d.value)==null?void 0:m.data,(a,O)=>{var g,b,v;return e(),o("tr",{key:a.id},[t("td",lt,n(O+1),1),t("td",null,n(a.ma),1),t("td",null,n((g=a.nha_cung_cap)==null?void 0:g.ten),1),t("td",null,n((b=a.nhan_vien)==null?void 0:b.name),1),t("td",null,n((v=a.du_an)==null?void 0:v.ten),1),t("td",null,[a.trang_thai===0?(e(),o("span",ot,"Chưa thanh toán")):(e(),o("span",ct,"Đã thanh toán"))]),t("td",_t,n(u(R)(a.created_at)),1),t("td",dt,n(a.so_tien.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",ht,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:h(j=>T(a),["prevent"])},"Sửa",8,ut),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",target:"_blank",href:i.route("phieuthuchi.print",{id:a.id})},"In Phiếu",8,rt),t("a",{class:"btn btn-danger btn-sm",onClick:h(j=>D(a.id),["prevent"])},"Xóa",8,pt)])])}),128))])]),y(U,{allData:d.value,onChangePage:S},null,8,["allData"])])]),y(L,{phieu_chi:u(_),nha_cung_cap_list:s.nha_cung_cap_list,du_an_list:s.du_an_list,nhan_vien_list:s.nhan_vien_list,loai_thu_chi_list:s.loai_thu_chi_list},null,8,["phieu_chi","nha_cung_cap_list","du_an_list","nhan_vien_list","loai_thu_chi_list"])]}),_:1}))}};export{Ct as default};
