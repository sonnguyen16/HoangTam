import{h as f,i as B,j as N,o as n,b as T,d as M,a as t,e as h,w as P,f as V,u,k as E,c as o,l as F,F as I,g as y,p as w,O as c,t as e}from"./app-1e5c9e9a.js";import{_ as K}from"./MainLayout-f57a36df.js";import L from"./PhieuChiModal-91d0a810.js";import{f as R}from"./script-4eb152de.js";import{_ as U}from"./Pagination-cd286238.js";/* empty css                     *//* empty css              */import"./moment-a9aaa855.js";const X=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[w("Phiếu thu chi "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),w(" Phiếu chi")])])],-1),k={class:"card shadow card-child",style:{}},q={class:"card-body"},z={class:"row mb-3"},A={class:"col-md-2"},G={class:"col-md-10"},H={class:"row"},J=t("div",{class:"col-md-3"},null,-1),Q=t("div",{class:"col-md-6"},null,-1),W={class:"col-md-3"},Y={class:"input-group"},Z=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),tt={class:"table table-bordered table-responsive-md"},it=t("thead",null,[t("tr",null,[t("th",null,"Mã phiếu"),t("th",null,"Nhà cung cấp"),t("th",null,"Người chi"),t("th",null,"Dự án"),t("th",null,"Trạng thái"),t("th",null,"Ngày tạo"),t("th",null,"Số tiền"),t("th",null,"Thao tác")])],-1),at={key:0},nt=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),et=[nt],st={key:0,class:"badge badge-warning"},lt={key:1,class:"badge badge-success"},ot={class:"date"},ct={class:"money"},_t={style:{width:"9%"}},dt=["onClick"],ht=["href"],ut=["onClick"],wt={__name:"Index",props:{phieu_thu_chi_list:Object,nha_cung_cap_list:Object,du_an_list:Object,nhan_vien_list:Object,loai_thu_chi_list:Object},setup(x){const s=x;let _=f({id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""}),l=f("");function C(){_.value={id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""},$("#phieuthuchimodal").modal("show")}const d=B(()=>s.phieu_thu_chi_list);N(l,i=>{c.visit(route("phieuthuchi.index",{search:i,loai:"phieuchi"}),{preserveState:!0})});function D(i){c.visit(i,{preserveState:!0})}function O(i){_.value={id:i.id,ma:i.ma,ngay:i.ngay,nha_cung_cap_id:i.nha_cung_cap_id,du_an_id:i.du_an_id,nhan_vien_id:i.nhan_vien_id,loai_thu_chi_id:i.loai_thu_chi_id,ly_do:i.ly_do,so_tien:i.so_tien,trang_thai:i.trang_thai},$("#phieuthuchimodal").modal("show")}function S(i){confirm("Bạn có chắc chắn muốn xóa phiếu chi này không?")&&c.delete(route("phieuthuchi.delete",{id:i}),{onSuccess:()=>{c.visit(route("phieuthuchi.index",{loai:"phieuchi"}))},onError:()=>{console.log(form.errors)}})}return(i,r)=>(n(),T(K,null,{default:M(()=>{var p,m;return[X,t("div",k,[t("div",q,[t("div",z,[t("div",A,[t("a",{onClick:h(C,["prevent"]),class:"btn btn-primary form-control"},"Thêm phiếu chi")]),t("div",G,[t("form",null,[t("div",H,[J,Q,t("div",W,[t("div",Y,[P(t("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>E(l)?l.value=a:l=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm phiếu chi"},null,512),[[V,u(l)]]),Z])])])])])]),t("table",tt,[it,t("tbody",null,[((p=d.value)==null?void 0:p.data.length)===0?(n(),o("tr",at,et)):(n(!0),o(I,{key:1},F((m=d.value)==null?void 0:m.data,a=>{var g,b,v;return n(),o("tr",{key:a.id},[t("td",null,e(a.ma),1),t("td",null,e((g=a.nha_cung_cap)==null?void 0:g.ten),1),t("td",null,e((b=a.nhan_vien)==null?void 0:b.name),1),t("td",null,e((v=a.du_an)==null?void 0:v.ten),1),t("td",null,[a.trang_thai===0?(n(),o("span",st,"Chưa thanh toán")):(n(),o("span",lt,"Đã thanh toán"))]),t("td",ot,e(u(R)(a.created_at)),1),t("td",ct,e(a.so_tien.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",_t,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:h(j=>O(a),["prevent"])},"Sửa",8,dt),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",target:"_blank",href:i.route("phieuthuchi.print",{id:a.id})},"In Phiếu",8,ht),t("a",{class:"btn btn-danger btn-sm",onClick:h(j=>S(a.id),["prevent"])},"Xóa",8,ut)])])}),128))])]),y(U,{allData:d.value,onChangePage:D},null,8,["allData"])])]),y(L,{phieu_chi:u(_),nha_cung_cap_list:s.nha_cung_cap_list,du_an_list:s.du_an_list,nhan_vien_list:s.nhan_vien_list,loai_thu_chi_list:s.loai_thu_chi_list},null,8,["phieu_chi","nha_cung_cap_list","du_an_list","nhan_vien_list","loai_thu_chi_list"])]}),_:1}))}};export{wt as default};
