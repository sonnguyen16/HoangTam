import{h as r,i as x,j as C,o as e,b as D,d as N,a as t,e as c,w as T,f as k,u as g,p as M,c as s,k as S,F as B,g as V,m as p,O as _,t as l,l as O}from"./app-451a1b70.js";import{_ as j}from"./MainLayout-a50f36ad.js";import L from"./DuAnModal-0337bae9.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const E=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[p("Danh mục quản lý "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),p(" Quản lý dự án")])])],-1),F={class:"card shadow card-child",style:{}},q={class:"card-body"},A={class:"row mb-3"},H={class:"col-md-2"},I={class:"col-md-10"},K={class:"row"},Q=t("div",{class:"col-md-3"},null,-1),R=t("div",{class:"col-md-6"},null,-1),U={class:"col-md-3"},X={class:"input-group"},z=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),G={class:"table table-bordered table-responsive-md"},J=t("thead",null,[t("tr",null,[t("th",null,"Tên dự án"),t("th",null,"Ngày bắt đầu"),t("th",null,"Ngày kết thúc"),t("th",null,"Người phụ trách"),t("th",null,"Mô tả"),t("th",null,"Trạng thái"),t("th",null,"Thao tác")])],-1),P={key:0},W=t("td",{colspan:"7",class:"text-center"},"Không có dữ liệu",-1),Y=[W],Z={key:0,class:"badge badge-warning"},tt={key:1,class:"badge badge-primary"},at={key:2,class:"badge badge-success"},nt={style:{width:"11%"}},et=["href"],st=["onClick"],dt=["onClick"],ut={__name:"Index",props:{du_an_list:Object,nhan_vien_list:Object},setup(u){const b=u;r({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",trang_thai:"",parent_id:"",children:[],files:[]});let o=r({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",trang_thai:"",parent_id:"",children:[],files:[]}),d=r("");function v(a){o.value={id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",mo_ta:"",trang_thai:"",parent_id:a,children:[],files:[]},$("#duanmodal").modal("show")}const h=x(()=>b.du_an_list);C(d,a=>{_.visit(route("duan.index",{search:a}),{preserveState:!0})});function y(a){o.value={id:a.id,ten:a.ten,ngay_bat_dau:a.ngay_bat_dau,ngay_ket_thuc:a.ngay_ket_thuc,user_id:a.user_id,mo_ta:a.mo_ta,trang_thai:a.trang_thai,parent_id:a.parent_id,children:a.children,files:a.files},$("#duanmodal").modal("show")}function f(a){confirm("Bạn có chắc chắn muốn xóa dự án này không?")&&_.delete(route("duan.delete",{id:a}),{onSuccess:()=>{_.visit(route("duan.index"))},onError:()=>{console.log(form.errors)}})}return(a,i)=>(e(),D(j,null,{default:N(()=>{var m;return[E,t("div",F,[t("div",q,[t("div",A,[t("div",H,[t("a",{onClick:i[0]||(i[0]=c(n=>v(""),["prevent"])),class:"btn btn-primary form-control"},"Thêm dự án")]),t("div",I,[t("form",null,[t("div",K,[Q,R,t("div",U,[t("div",X,[T(t("input",{"onUpdate:modelValue":i[1]||(i[1]=n=>M(d)?d.value=n:d=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm dự án"},null,512),[[k,g(d)]]),z])])])])])]),t("table",G,[J,t("tbody",null,[((m=h.value)==null?void 0:m.length)===0?(e(),s("tr",P,Y)):(e(!0),s(B,{key:1},S(h.value,n=>(e(),s("tr",{key:n.id},[t("td",null,l(n.ten),1),t("td",null,l(new Date(n.ngay_bat_dau).toLocaleDateString()),1),t("td",null,l(new Date(n.ngay_bat_dau).toLocaleDateString()),1),t("td",null,l(n.nhan_vien.name),1),t("td",null,l(n.mo_ta),1),t("td",null,[n.trang_thai===0?(e(),s("span",Z,"Chưa triển khai")):n.trang_thai===1?(e(),s("span",tt,"Đang triển khai")):n.trang_thai===2?(e(),s("span",at,"Hoàn thành")):O("",!0)]),t("td",nt,[t("a",{class:"btn btn-primary btn-sm mr-2 ml-2",href:a.route("duan.detail",{id:n.id})},"Chi tiết",8,et),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:c(w=>y(n),["prevent"])},"Sửa",8,st),t("a",{class:"btn btn-danger btn-sm",onClick:c(w=>f(n.id),["prevent"])},"Xóa",8,dt)])]))),128))])])])]),V(L,{du_an:g(o),users:u.nhan_vien_list},null,8,["du_an","users"])]}),_:1}))}};export{ut as default};
