import{h as p,i as S,j as T,o,b as B,d as M,a as t,e as d,w as V,f as N,u as g,p as O,c as h,k as j,F as E,g as b,m as v,O as c,t as n}from"./app-5cd23246.js";import{_ as F}from"./MainLayout-40f47581.js";import K from"./KhachHangModal-86aa17d0.js";import{_ as P}from"./Pagination-1424a50b.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const G=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[v("Đối tác "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),v(" Danh sách khách hàng")])])],-1),H={class:"card shadow card-child",style:{}},I={class:"card-body"},L={class:"row mb-3"},R={class:"col-md-2"},U={class:"col-md-10"},W={class:"row"},X=t("div",{class:"col-md-3"},null,-1),q=t("div",{class:"col-md-6"},null,-1),z={class:"col-md-3"},A={class:"input-group"},J=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),Q={class:"table table-bordered table-responsive-md"},Y=t("thead",null,[t("tr",null,[t("th",null,"Tên khách hàng"),t("th",null,"Địa chỉ"),t("th",null,"Số điện thoại"),t("th",null,"Website"),t("th",null,"Ghi chú"),t("th",null,"Thao tác")])],-1),Z={key:0},tt=t("td",{colspan:"6",class:"text-center"},"Không có dữ liệu",-1),at=[tt],et={class:"action"},st=["onClick"],nt=["onClick"],_t={__name:"Index",props:{khach_hang_list:Object},setup(f){const k=f;let i=p({id:"",ten:"",dia_chi:"",dien_thoai:"",website:"",ghi_chu:"",ton_dau:0}),s=p("");function w(){i.value={id:"",ten:"",dia_chi:"",dien_thoai:"",website:"",ghi_chu:"",ton_dau:0},$("#khachhangmodal").modal("show")}const l=S(()=>k.khach_hang_list);T(s,a=>{c.visit(route("khachhang.index",{search:a}),{preserveState:!0})});function y(a){c.visit(a,{preserveState:!0})}function x(a){console.log(s.value),i.value={id:a.id,ten:a.ten,dia_chi:a.dia_chi,dien_thoai:a.dien_thoai,website:a.website,ghi_chu:a.ghi_chu,ton_dau:a.ton_dau},$("#khachhangmodal").modal("show")}function C(a){confirm("Bạn có chắc chắn muốn xóa khách hàng này không?")&&c.delete(route("khachhang.delete",{id:a}),{onSuccess:()=>{c.visit(route("khachhang.index"))},onError:()=>{console.log(form.errors)}})}return(a,r)=>(o(),B(F,null,{default:M(()=>{var _,u,m;return[G,t("div",H,[t("div",I,[t("div",L,[t("div",R,[t("a",{onClick:d(w,["prevent"]),class:"btn btn-primary form-control"},"Thêm khách hàng")]),t("div",U,[t("form",null,[t("div",W,[X,q,t("div",z,[t("div",A,[V(t("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>O(s)?s.value=e:s=e),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm khách hàng"},null,512),[[N,g(s)]]),J])])])])])]),t("table",Q,[Y,t("tbody",null,[((u=(_=l.value)==null?void 0:_.data)==null?void 0:u.length)===0?(o(),h("tr",Z,at)):(o(!0),h(E,{key:1},j((m=l.value)==null?void 0:m.data,e=>(o(),h("tr",{key:e.id},[t("td",null,n(e.ten),1),t("td",null,n(e.dia_chi),1),t("td",null,n(e.dien_thoai),1),t("td",null,n(e.website),1),t("td",null,n(e.ghi_chu),1),t("td",et,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:d(D=>x(e),["prevent"])},"Sửa",8,st),t("a",{class:"btn btn-danger btn-sm",onClick:d(D=>C(e.id),["prevent"])},"Xóa",8,nt)])]))),128))])]),b(P,{allData:l.value,onChangePage:y},null,8,["allData"])])]),b(K,{khach_hang:g(i)},null,8,["khach_hang"])]}),_:1}))}};export{_t as default};
