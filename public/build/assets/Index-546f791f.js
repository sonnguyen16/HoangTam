import{h as u,i as T,j as g,o as s,b as V,d as D,a as t,w as v,f as y,c,l as S,k as b,F as h,g as F,u as B,m as C,O as m,t as o,e as M,n as Y}from"./app-e4f1f62e.js";import{_ as U}from"./MainLayout-52bfe2db.js";import{h as q}from"./moment-a9aaa855.js";import K from"./NhapKhoModal-11bcba32.js";/* empty css                     *//* empty css              */import"./lodash-4d481046.js";import"./_plugin-vue_export-helper-c27b6911.js";const z=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[C("Báo cáo "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),C(" Báo cáo nhập")])])],-1),E={class:"card shadow card-child",style:{}},I={class:"card-body"},L={class:"row mb-3"},P={class:"col-md-12"},A={class:"row"},G={class:"col-md-5"},H={class:"row"},J={class:"col-lg-6"},Q={class:"form-record"},R=t("label",null,"Từ ngày",-1),W={class:"col-lg-6"},X={class:"form-record"},Z=t("label",null,"Đến ngày",-1),tt=t("div",{class:"col-md-4 d-flex align-items-center"},null,-1),at={class:"col-md-3"},nt={class:"input-group"},et=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),st={class:"table table-bordered table-responsive-md"},ot=t("thead",null,[t("tr",null,[t("th",null,"Ngày"),t("th",null,"Số phiếu"),t("th",null,"Nhà cung cấp"),t("th",null,"Mã sản phẩm"),t("th",null,"ĐVT"),t("th",null,"Số lượng"),t("th",null,"Đơn giá"),t("th",null,"Thành tiền"),t("th")])],-1),lt={key:0},it=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),ct=[it],_t={class:"quantity"},dt={class:"money"},rt={class:"money"},ut={class:"quantity"},ht=["onClick"],mt={class:"float-right mt-3 mb-0"},pt={class:"row"},gt={class:"col-md-12 col-lg-12 text-center"},vt={key:0,class:"pagination"},yt=["onClick"],Ot={__name:"Index",props:{hoa_don_list:Object,nha_cung_cap_list:Object,kho_list:Object,san_pham_list:Object,du_an_list:Object},setup(r){const O=r;let f=u({id:"",ma:"",ngay:"",nha_cung_cap:{},kho:{},ghi_chu:"",chi_tiet_hoa_don:[],du_an_id:""});const p=u(""),l=u("2024-01-01"),i=u("2025-01-01"),d=T(()=>O.hoa_don_list);g(p,a=>{m.visit(route("baocaonhapxuat.index",{search:a,ngay_bat_dau:l.value,ngay_ket_thuc:i.value,loai:"nhap"}),{preserveState:!0})}),g(l,(a,e)=>{if(!a){l.value=e;return}if(i.value<a){alert("Ngày bắt đầu không được lớn hơn ngày kết thúc"),l.value=e;return}m.visit(route("baocaonhapxuat.index",{ngay_bat_dau:a,ngay_ket_thuc:i.value,loai:"nhap"}),{preserveState:!0})}),g(i,(a,e)=>{if(!a){i.value=e;return}if(l.value>a){alert("Ngày kết thúc không được nhỏ hơn ngày bắt đầu"),i.value=e;return}m.visit(route("baocaonhapxuat.index",{ngay_ket_thuc:a,ngay_bat_dau:l.value,loai:"nhap"}),{preserveState:!0})});function j(a){m.visit(a,{preserveState:!0})}function N(a){f.value={id:a.id,ma:a.ma,nha_cung_cap:a.nha_cung_cap,kho:a.kho,ghi_chu:a.ghi_chu,chi_tiet_hoa_don:a.chi_tiet_hoa_don,ngay:a.ngay,du_an_id:a.du_an_id},$("#hoadonmodal").modal("show")}return(a,e)=>(s(),V(U,null,{default:D(()=>{var k,x,w;return[z,t("div",E,[t("div",I,[t("div",L,[t("div",P,[t("form",null,[t("div",A,[t("div",G,[t("div",H,[t("div",J,[t("div",Q,[R,v(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),class:"form-control",name:"tu_ngay"},null,512),[[y,l.value]])])]),t("div",W,[t("div",X,[Z,v(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=n=>i.value=n),class:"form-control",name:"den_ngay"},null,512),[[y,i.value]])])])])]),tt,t("div",at,[t("div",nt,[v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>p.value=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm sản phẩm"},null,512),[[y,p.value]]),et])])])])])]),t("table",st,[ot,t("tbody",null,[((k=d.value)==null?void 0:k.length)===0?(s(),c("tr",lt,ct)):S("",!0),(s(!0),c(h,null,b(d.value.data,n=>(s(),c(h,null,[(s(!0),c(h,null,b(n.chi_tiet_hoa_don,_=>(s(),c("tr",{key:_.id},[t("td",null,o(B(q)(n.ngay).format("DD/MM/YYYY")),1),t("td",null,o(n.ma),1),t("td",null,o(n.nha_cung_cap.ten),1),t("td",null,o(_.san_pham.ma),1),t("td",null,o(_.san_pham.don_vi_tinh.ten),1),t("td",_t,o(_.so_luong.toFixed(1)),1),t("td",dt,o(_.gia.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",rt,o(_.thanh_tien.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",ut,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:M(bt=>N(n),["prevent"])},"Sửa",8,ht)])]))),128))],64))),256))])]),t("div",mt,[t("div",pt,[t("div",gt,[((x=d.value)==null?void 0:x.meta.total)>((w=d.value)==null?void 0:w.meta.per_page)?(s(),c("ul",vt,[(s(!0),c(h,null,b(d.value.meta.links.slice(1,-1),n=>(s(),c("li",{key:n,class:"page-item"},[t("a",{class:Y(["page-link",{"bg-primary":n.label===d.value.meta.current_page.toString()}]),onClick:M(_=>j(n.url),["prevent"])},o(n.label),11,yt)]))),128))])):S("",!0)])])])])]),F(K,{hoa_don:B(f),nha_cung_cap_list:r.nha_cung_cap_list,kho_list:r.kho_list,san_pham_list:r.san_pham_list,du_an_list:r.du_an_list},null,8,["hoa_don","nha_cung_cap_list","kho_list","san_pham_list","du_an_list"])]}),_:1}))}};export{Ot as default};
