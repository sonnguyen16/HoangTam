import{h as g,i as D,j as M,o as _,b as O,d as T,a,e as r,w as j,f as V,u as f,p as E,c as h,k as F,F as G,g as y,O as d,t as s}from"./app-a0d3c948.js";import{_ as L}from"./MainLayout-da8f3396.js";import N from"./SanPhamModal-d8a08cfc.js";import{_ as P}from"./Pagination-88230253.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-70b814e4.js";const I={class:"card shadow card-child",style:{}},K={class:"card-body"},R={class:"row mb-3"},U={class:"col-md-2"},X={class:"col-md-10"},q={class:"row"},z=a("div",{class:"col-md-3"},null,-1),A=a("div",{class:"col-md-6"},null,-1),H={class:"col-md-3"},J={class:"input-group"},Q=a("div",{class:"input-group-append"},[a("button",{class:"btn btn-primary",type:"submit"},[a("i",{class:"fas fa-search"})])],-1),W={class:"table table-bordered table-responsive-md"},Y=a("thead",null,[a("tr",null,[a("th",null,"Mã sản phẩm"),a("th",null,"Tên sản phẩm"),a("th",null,"Giá bán"),a("th",null,"Giá nhập"),a("th",null,"Đơn vị tính"),a("th",null,"Loại sản phẩm"),a("th",null,"Thao tác")])],-1),Z={key:0},k=a("td",{colspan:"5",class:"text-center"},"Không có dữ liệu",-1),aa=[k],ta={class:"action"},na=["onClick"],sa=["onClick"],ra={__name:"Index",props:{san_pham_list:Object,don_vi_tinh_list:Object,loai_san_pham_list:Object},setup(l){const p=l;let c=g({id:"",ma:"",ten:"",gia_ban:0,gia_nhap:0,ton_dau:0,canh_bao:0,don_vi_tinh_id:"",loai_san_pham_id:"",mo_ta:"",dinh_muc:[]}),i=g("");function w(){c.value={id:"",ma:"",ten:"",gia_ban:0,gia_nhap:0,ton_dau:0,canh_bao:0,don_vi_tinh_id:"",loai_san_pham_id:"",mo_ta:"",dinh_muc:[]},$("#sanphammodal").modal("show")}const m=D(()=>(console.log(p.san_pham_list),p.san_pham_list));M(i,t=>{d.visit(route("sanpham.index",{search:t}),{preserveState:!0})});function x(t){d.visit(t,{preserveState:!0})}function B(t){var o,e;c.value={id:t.id,ma:t.ma,ten:t.ten,gia_ban:t.gia_ban,gia_nhap:t.gia_nhap,don_vi_tinh_id:(o=t.don_vi_tinh)==null?void 0:o.id,ton_dau:t.ton_dau,canh_bao:t.canh_bao,loai_san_pham_id:(e=t.loai_san_pham)==null?void 0:e.id,mo_ta:t.mo_ta,dinh_muc:t.dinh_muc},$("#sanphammodal").modal("show")}function C(t){confirm("Bạn có chắc chắn muốn xóa sản phẩm này không?")&&d.delete(route("sanpham.delete",{id:t}),{onSuccess:()=>{d.visit(route("sanpham.index"))},onError:()=>{console.log(form.errors)}})}return(t,o)=>(_(),O(L,null,{default:T(()=>{var e,u;return[a("div",I,[a("div",K,[a("div",R,[a("div",U,[a("a",{onClick:r(w,["prevent"]),class:"btn btn-primary form-control"},"Thêm sản phẩm")]),a("div",X,[a("form",null,[a("div",q,[z,A,a("div",H,[a("div",J,[j(a("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>E(i)?i.value=n:i=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm sản phẩm"},null,512),[[V,f(i)]]),Q])])])])])]),a("table",W,[Y,a("tbody",null,[((e=m.value)==null?void 0:e.data.length)===0?(_(),h("tr",Z,aa)):(_(!0),h(G,{key:1},F((u=m.value)==null?void 0:u.data,n=>{var v,b;return _(),h("tr",{key:n.id},[a("td",null,s(n.ma),1),a("td",null,s(n.ten),1),a("td",null,s(n.gia_ban.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),a("td",null,s(n.gia_nhap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),a("td",null,s((v=n.don_vi_tinh)==null?void 0:v.ten),1),a("td",null,s((b=n.loai_san_pham)==null?void 0:b.ten),1),a("td",ta,[a("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:r(S=>B(n),["prevent"])},"Sửa",8,na),a("a",{class:"btn btn-danger btn-sm",onClick:r(S=>C(n.id),["prevent"])},"Xóa",8,sa)])])}),128))])]),y(P,{allData:m.value,onChangePage:x},null,8,["allData"])])]),y(N,{san_pham:f(c),don_vi_tinh_list:l.don_vi_tinh_list,san_pham_list:l.san_pham_list,loai_san_pham_list:l.loai_san_pham_list},null,8,["san_pham","don_vi_tinh_list","san_pham_list","loai_san_pham_list"])]}),_:1}))}};export{ra as default};
