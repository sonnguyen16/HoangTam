import{h as p,i as C,j as S,o as a,b as B,d as O,a as t,g as f,u as l,w as j,f as D,p as M,c as _,k as N,F as T,O as i,t as e,e as v}from"./app-d50357bd.js";import{_ as $}from"./MainLayout-abac8664.js";import V from"./TonKhoModal-89e929bc.js";import{f as b}from"./script-4eb152de.js";import{_ as E}from"./Pagination-b705b5e8.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"card shadow card-child",style:{}},K={class:"card-body"},P={class:"row mb-3"},q={class:"col-md-12"},I={class:"row"},L={class:"col-md-9"},R={class:"col-md-3"},U={class:"input-group"},X=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),z={class:"table table-bordered table-responsive-md"},A=t("thead",null,[t("tr",null,[t("th",null,"Kho"),t("th",null,"Mã sản phẩm"),t("th",null,"Tên sản phẩm"),t("th",null,"Số lượng"),t("th",null,"Ngày tạo"),t("th",null,"Ngày cập nhật"),t("th",null,"Thao tác")])],-1),G={key:0},H=t("td",{colspan:"7",class:"text-center"},"Không có dữ liệu",-1),J=[H],Q={class:"quantity"},W={class:"date"},Y={class:"date"},Z={class:"action"},tt=["onClick"],st=["onClick"],_t={__name:"Index",props:{san_pham_list:Object,ton_kho_list:Object,kho_list:Object},setup(k){const c=k;let r=p({id:"",kho_id:"",san_pham_id:"",so_luong:0}),n=p("");const d=C(()=>c.ton_kho_list);S(n,o=>{i.visit(route("tonkho.index",{search:o}),{preserveState:!0})});function g(o){i.visit(o,{preserveState:!0})}function y(o){r.value={id:o.id,kho_id:o.kho_id,san_pham_id:o.san_pham_id,so_luong:o.so_luong}}function x(o){confirm("Bạn có chắc chắn muốn xóa tồn kho này không?")&&i.delete(route("tonkho.delete",{id:o}),{onSuccess:()=>{i.visit(route("tonkho.index"))},onError:()=>{console.log(form.errors)}})}return(o,h)=>(a(),B($,null,{default:O(()=>{var u,m;return[t("div",F,[t("div",K,[t("div",P,[t("div",q,[t("form",null,[t("div",I,[t("div",L,[f(V,{ton_kho:l(r),kho_list:c.kho_list,san_pham_list:c.san_pham_list},null,8,["ton_kho","kho_list","san_pham_list"])]),t("div",R,[t("div",U,[j(t("input",{"onUpdate:modelValue":h[0]||(h[0]=s=>M(n)?n.value=s:n=s),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm tồn kho"},null,512),[[D,l(n)]]),X])])])])])]),t("table",z,[A,t("tbody",null,[((u=d.value)==null?void 0:u.data.length)===0?(a(),_("tr",G,J)):(a(!0),_(T,{key:1},N((m=d.value)==null?void 0:m.data,s=>(a(),_("tr",{key:s.id},[t("td",null,e(s.kho.ten),1),t("td",null,e(s.san_pham.ma),1),t("td",null,e(s.san_pham.ten),1),t("td",Q,e(s.so_luong),1),t("td",W,e(l(b)(s.created_at)),1),t("td",Y,e(l(b)(s.updated_at)),1),t("td",Z,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:v(w=>y(s),["prevent"])},"Sửa",8,tt),t("a",{class:"btn btn-danger btn-sm",onClick:v(w=>x(s.id),["prevent"])},"Xóa",8,st)])]))),128))])]),f(E,{data:d.value,onChangePage:g},null,8,["data"])])])]}),_:1}))}};export{_t as default};
