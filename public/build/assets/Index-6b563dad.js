import{h as c,i as x,j as T,o as a,b as C,d as D,a as t,e as g,w as N,f as S,u,p as M,c as s,k as B,F as O,g as y,O as V,t as d,l as j}from"./app-12a71e80.js";import{_ as k}from"./MainLayout-cdeec635.js";import L from"./DuAnModal-0e280672.js";import A from"./ChiTiet-1ec4f652.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                 */const E={class:"card shadow card-child",style:{}},F={class:"card-body"},R={class:"row"},H={class:"col-md-12"},I={class:"row"},K={class:"col-md-1"},U={class:"col-md-3"},q={class:"input-group"},z=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),G={class:"table table-bordered table-responsive-md mt-3"},J=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"STT"),t("th",null,"Tên dự án"),t("th",null,"Ngày bắt đầu"),t("th",null,"Ngày kết thúc"),t("th",null,"Người phụ trách"),t("th",null,"Trạng thái"),t("th",null,"Thao tác")])],-1),P={key:0},Q=t("td",{colspan:"7",class:"text-center"},"Không có dữ liệu",-1),W=[Q],X={style:{width:"3%","text-align":"center"}},Y={key:0,class:"badge badge-warning"},Z={key:1,class:"badge badge-primary"},tt={key:2,class:"badge badge-success"},et={style:{width:"8%"}},nt=["href"],at=["onClick"],ht={__name:"Index",props:{du_an_list:Object,nhan_vien_list:Object},setup(_){const v=_;let h=c({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",tien_do:0,parent_id:"",children:[],files:[],binh_luan:[]}),o=c({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",tien_do:0,parent_id:"",children:[],files:[],binh_luan:[],nguoi_theo_doi:[]}),i=c("");function m(e){h.value={id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",mo_ta:"",trang_thai:"",parent_id:e,children:[],files:[]},$("#duanmodal").modal("show")}const r=x(()=>v.du_an_list);T(i,e=>{V.visit(route("duan.index",{search:e}),{preserveState:!0})});function p(e){o.value={id:e.id,ten:e.ten,ngay_bat_dau:e.ngay_bat_dau,ngay_ket_thuc:e.ngay_ket_thuc,user_id:e.user_id,mo_ta:e.mo_ta,tien_do:e.tien_do,parent_id:e.parent_id,children:e.children,files:e.files,binh_luan:e.binh_luan,nguoi_theo_doi:e.nguoi_theo_doi},$("#chitietdamodal").modal("show")}function f(){o.value=r.value.find(e=>e.id===o.value.id)}return(e,l)=>(a(),C(k,null,{default:D(()=>{var b;return[t("div",E,[t("div",F,[t("div",R,[t("div",H,[t("div",I,[t("div",K,[t("a",{onClick:l[0]||(l[0]=g(n=>m(""),["prevent"])),class:"btn btn-primary form-control"},"Thêm dự án")]),t("div",U,[t("div",q,[N(t("input",{"onUpdate:modelValue":l[1]||(l[1]=n=>M(i)?i.value=n:i=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm dự án"},null,512),[[S,u(i)]]),z])])]),t("table",G,[J,t("tbody",null,[((b=r.value)==null?void 0:b.length)===0?(a(),s("tr",P,W)):(a(!0),s(O,{key:1},B(r.value,(n,w)=>(a(),s("tr",{key:n.id},[t("td",X,d(w+1),1),t("td",null,d(n.ten),1),t("td",null,d(new Date(n.ngay_bat_dau).toLocaleDateString()),1),t("td",null,d(new Date(n.ngay_bat_dau).toLocaleDateString()),1),t("td",null,d(n.nhan_vien.name),1),t("td",null,[n.tien_do===0?(a(),s("span",Y,"Chưa triển khai")):n.tien_do>0?(a(),s("span",Z,"Đang triển khai")):n.tien_do===100?(a(),s("span",tt,"Hoàn thành")):j("",!0)]),t("td",et,[t("a",{class:"btn btn-primary btn-sm mr-2 ml-2",href:e.route("duan.detail",{id:n.id})},"Chi tiết",8,nt),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:g(st=>p(n),["prevent"])},"Sửa",8,at)])]))),128))])])])])])]),y(A,{du_an:u(o),users:_.nhan_vien_list,onAdd:m,onEdit:p},null,8,["du_an","users"]),y(L,{du_an:u(h),users:_.nhan_vien_list,onReload:f},null,8,["du_an","users"])]}),_:1}))}};export{ht as default};
