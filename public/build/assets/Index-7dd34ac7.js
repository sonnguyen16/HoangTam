import{h as g,i as T,j as M,o as _,b as O,d as j,a,e as r,w as V,f as N,u as f,p as E,c as h,k as F,F as G,g as y,m as w,O as d,t as s}from"./app-9116f07d.js";import{_ as L}from"./MainLayout-3cd8fa52.js";import P from"./SanPhamModal-145cc622.js";import{_ as q}from"./Pagination-0ecbc49b.js";/* empty css                     *//* empty css              */import"./lodash-18a78acd.js";const I=a("div",{class:"card shadow"},[a("div",{class:"card-body card-brc"},[a("p",{class:"txt-color mb-0 font-weight-bold"},[w("Danh mục quản lý "),a("i",{class:"fa fa-angle-right mr-2 ml-2"}),w(" Quản lý sản phẩm")])])],-1),K={class:"card shadow card-child",style:{}},Q={class:"card-body"},R={class:"row mb-3"},U={class:"col-md-2"},X={class:"col-md-10"},z={class:"row"},A=a("div",{class:"col-md-3"},null,-1),H=a("div",{class:"col-md-6"},null,-1),J={class:"col-md-3"},W={class:"input-group"},Y=a("div",{class:"input-group-append"},[a("button",{class:"btn btn-primary",type:"submit"},[a("i",{class:"fas fa-search"})])],-1),Z={class:"table table-bordered table-responsive-md"},k=a("thead",null,[a("tr",null,[a("th",null,"Mã sản phẩm"),a("th",null,"Tên sản phẩm"),a("th",null,"Giá bán"),a("th",null,"Giá nhập"),a("th",null,"Đơn vị tính"),a("th",null,"Loại sản phẩm"),a("th",null,"Thao tác")])],-1),aa={key:0},ta=a("td",{colspan:"5",class:"text-center"},"Không có dữ liệu",-1),na=[ta],sa={class:"action"},ia=["onClick"],oa=["onClick"],ha={__name:"Index",props:{san_pham_list:Object,don_vi_tinh_list:Object,loai_san_pham_list:Object},setup(e){const p=e;let c=g({id:"",ma:"",ten:"",gia_ban:0,gia_nhap:0,ton_dau:0,canh_bao:0,don_vi_tinh_id:"",loai_san_pham_id:"",mo_ta:"",dinh_muc:[]}),i=g("");function x(){c.value={id:"",ma:"",ten:"",gia_ban:0,gia_nhap:0,ton_dau:0,canh_bao:0,don_vi_tinh_id:"",loai_san_pham_id:"",mo_ta:"",dinh_muc:[]},$("#sanphammodal").modal("show")}const m=T(()=>(console.log(p.san_pham_list),p.san_pham_list));M(i,t=>{d.visit(route("sanpham.index",{search:t}),{preserveState:!0})});function B(t){d.visit(t,{preserveState:!0})}function C(t){var o,l;c.value={id:t.id,ma:t.ma,ten:t.ten,gia_ban:t.gia_ban,gia_nhap:t.gia_nhap,don_vi_tinh_id:(o=t.don_vi_tinh)==null?void 0:o.id,ton_dau:t.ton_dau,canh_bao:t.canh_bao,loai_san_pham_id:(l=t.loai_san_pham)==null?void 0:l.id,mo_ta:t.mo_ta,dinh_muc:t.dinh_muc},$("#sanphammodal").modal("show")}function S(t){confirm("Bạn có chắc chắn muốn xóa sản phẩm này không?")&&d.delete(route("sanpham.delete",{id:t}),{onSuccess:()=>{d.visit(route("sanpham.index"))},onError:()=>{console.log(form.errors)}})}return(t,o)=>(_(),O(L,null,{default:j(()=>{var l,u;return[I,a("div",K,[a("div",Q,[a("div",R,[a("div",U,[a("a",{onClick:r(x,["prevent"]),class:"btn btn-primary form-control"},"Thêm sản phẩm")]),a("div",X,[a("form",null,[a("div",z,[A,H,a("div",J,[a("div",W,[V(a("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>E(i)?i.value=n:i=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm sản phẩm"},null,512),[[N,f(i)]]),Y])])])])])]),a("table",Z,[k,a("tbody",null,[((l=m.value)==null?void 0:l.data.length)===0?(_(),h("tr",aa,na)):(_(!0),h(G,{key:1},F((u=m.value)==null?void 0:u.data,n=>{var v,b;return _(),h("tr",{key:n.id},[a("td",null,s(n.ma),1),a("td",null,s(n.ten),1),a("td",null,s(n.gia_ban.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),a("td",null,s(n.gia_nhap.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),a("td",null,s((v=n.don_vi_tinh)==null?void 0:v.ten),1),a("td",null,s((b=n.loai_san_pham)==null?void 0:b.ten),1),a("td",sa,[a("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:r(D=>C(n),["prevent"])},"Sửa",8,ia),a("a",{class:"btn btn-danger btn-sm",onClick:r(D=>S(n.id),["prevent"])},"Xóa",8,oa)])])}),128))])]),y(q,{allData:m.value,onChangePage:B},null,8,["allData"])])]),y(P,{san_pham:f(c),don_vi_tinh_list:e.don_vi_tinh_list,san_pham_list:e.san_pham_list,loai_san_pham_list:e.loai_san_pham_list},null,8,["san_pham","don_vi_tinh_list","san_pham_list","loai_san_pham_list"])]}),_:1}))}};export{ha as default};
