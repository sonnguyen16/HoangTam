import{h as _,i as M,j as N,o as e,b as T,d as S,a as t,e as o,w as B,f as V,u as c,p as O,c as s,k as j,F as A,g as f,m as w,O as u,t as i,l as E}from"./app-8a7eb46a.js";import{_ as L}from"./MainLayout-6cb24762.js";import F from"./DuAnModal-d7623be2.js";import X from"./XemDuAnModal-b0aea935.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const q=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[w("Danh mục quản lý "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),w(" Quản lý dự án")])])],-1),H={class:"card shadow card-child",style:{}},I={class:"card-body"},K={class:"row mb-3"},Q={class:"col-md-2"},R={class:"col-md-10"},U={class:"row"},k=t("div",{class:"col-md-3"},null,-1),z=t("div",{class:"col-md-6"},null,-1),G={class:"col-md-3"},J={class:"input-group"},P=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),W={class:"table table-bordered table-responsive-md"},Y=t("thead",null,[t("tr",null,[t("th",null,"Tên dự án"),t("th",null,"Ngày bắt đầu"),t("th",null,"Ngày kết thúc"),t("th",null,"Người phụ trách"),t("th",null,"Mô tả"),t("th",null,"Trạng thái"),t("th",null,"Thao tác")])],-1),Z={key:0},tt=t("td",{colspan:"7",class:"text-center"},"Không có dữ liệu",-1),nt=[tt],at={key:0,class:"badge badge-warning"},et={key:1,class:"badge badge-primary"},st={key:2,class:"badge badge-success"},dt={style:{width:"13%"}},it=["onClick"],lt=["onClick"],ot=["onClick"],rt=["href"],bt={__name:"Index",props:{du_an_list:Object,nhan_vien_list:Object},setup(m){const x=m;let h=_({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",trang_thai:"",parent_id:"",children:[],files:[]}),r=_({id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",nhan_vien:{},mo_ta:"",trang_thai:"",parent_id:"",children:[],files:[]}),d=_("");function g(n){r.value={id:"",ten:"",ngay_bat_dau:"",ngay_ket_thuc:"",user_id:"",mo_ta:"",trang_thai:"",parent_id:n,children:[],files:[]},$("#duanmodal").modal("show")}const p=M(()=>x.du_an_list);N(d,n=>{u.visit(route("duan.index",{search:n}),{preserveState:!0})});function b(n){r.value={id:n.id,ten:n.ten,ngay_bat_dau:n.ngay_bat_dau,ngay_ket_thuc:n.ngay_ket_thuc,user_id:n.user_id,mo_ta:n.mo_ta,trang_thai:n.trang_thai,parent_id:n.parent_id,children:n.children,files:n.files},$("#duanmodal").modal("show")}function C(n){confirm("Bạn có chắc chắn muốn xóa dự án này không?")&&u.delete(route("duan.delete",{id:n}),{onSuccess:()=>{u.visit(route("duan.index"))},onError:()=>{console.log(form.errors)}})}function D(n){h.value={id:n.id,ten:n.ten,ngay_bat_dau:n.ngay_bat_dau,ngay_ket_thuc:n.ngay_ket_thuc,user_id:n.user_id,mo_ta:n.mo_ta,nhan_vien:n.nhan_vien,trang_thai:n.trang_thai,parent_id:n.parent_id,children:n.children,files:n.files},$("#xemduanmodal").modal("show")}return(n,l)=>(e(),T(L,null,{default:S(()=>{var v;return[q,t("div",H,[t("div",I,[t("div",K,[t("div",Q,[t("a",{onClick:l[0]||(l[0]=o(a=>g(""),["prevent"])),class:"btn btn-primary form-control"},"Thêm dự án")]),t("div",R,[t("form",null,[t("div",U,[k,z,t("div",G,[t("div",J,[B(t("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>O(d)?d.value=a:d=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm dự án"},null,512),[[V,c(d)]]),P])])])])])]),t("table",W,[Y,t("tbody",null,[((v=p.value)==null?void 0:v.length)===0?(e(),s("tr",Z,nt)):(e(!0),s(A,{key:1},j(p.value,a=>(e(),s("tr",{key:a.id},[t("td",null,i(a.ten),1),t("td",null,i(new Date(a.ngay_bat_dau).toLocaleDateString()),1),t("td",null,i(new Date(a.ngay_bat_dau).toLocaleDateString()),1),t("td",null,i(a.nhan_vien.name),1),t("td",null,i(a.mo_ta),1),t("td",null,[a.trang_thai===0?(e(),s("span",at,"Chưa triển khai")):a.trang_thai===1?(e(),s("span",et,"Đang triển khai")):a.trang_thai===2?(e(),s("span",st,"Hoàn thành")):E("",!0)]),t("td",dt,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:o(y=>D(a),["prevent"])},"Xem",8,it),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:o(y=>b(a),["prevent"])},"Sửa",8,lt),t("a",{class:"btn btn-danger btn-sm mr-2",onClick:o(y=>C(a.id),["prevent"])},"Xóa",8,ot),t("a",{class:"btn btn-primary btn-sm",href:n.route("duan.detail",{id:a.id})},"Chi tiết",8,rt)])]))),128))])])])]),f(F,{du_an:c(r),users:m.nhan_vien_list},null,8,["du_an","users"]),f(X,{du_an:c(h),onEdit:b,onAdd:g},null,8,["du_an"])]}),_:1}))}};export{bt as default};
