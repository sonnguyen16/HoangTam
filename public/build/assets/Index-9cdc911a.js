import{h as g,i as N,j as S,o as s,b as D,d as M,a as n,e as d,w as O,f as j,u as b,p as E,c as _,k as P,F,g as f,m as y,O as i,t as o}from"./app-5437a568.js";import{_ as q}from"./MainLayout-0bc2a7eb.js";import I from"./NhanVienModal-97f7087a.js";import{_ as K}from"./Pagination-bf59a6b9.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const L=n("div",{class:"card shadow"},[n("div",{class:"card-body card-brc"},[n("p",{class:"txt-color mb-0 font-weight-bold"},[y("Danh mục quản lý "),n("i",{class:"fa fa-angle-right mr-2 ml-2"}),y(" Quản lý nhân viên")])])],-1),Q={class:"card shadow card-child",style:{}},R={class:"card-body"},U={class:"row mb-3"},X={class:"col-md-2"},z={class:"col-md-10"},A={class:"row"},G=n("div",{class:"col-md-3"},null,-1),H=n("div",{class:"col-md-6"},null,-1),J={class:"col-md-3"},W={class:"input-group"},Y=n("div",{class:"input-group-append"},[n("button",{class:"btn btn-primary",type:"submit"},[n("i",{class:"fas fa-search"})])],-1),Z={class:"table table-bordered table-responsive-md"},k=n("thead",null,[n("tr",null,[n("th",null,"Tên nhân viên"),n("th",null,"Email"),n("th",null,"Địa chỉ"),n("th",null,"Phòng ban"),n("th",null,"Thao tác")])],-1),nn={key:0},an=n("td",{colspan:"6",class:"text-center"},"Không có dữ liệu",-1),tn=[an],en={class:"action"},sn=["onClick"],on=["onClick"],mn={__name:"Index",props:{nhan_vien_list:Object,phong_ban_list:Object},setup(r){const w=r;let l=g({id:"",name:"",email:"",password:"",phong_ban_id:"",dia_chi:"",dien_thoai:"",cccd:"",ngay_cap:"",ghi_chu:"",muc_luong:0,hinh_anh:""}),e=g("");function x(){l.value={id:"",name:"",email:"",password:"",phong_ban_id:"",dia_chi:"",dien_thoai:"",cccd:"",ngay_cap:"",ghi_chu:"",muc_luong:0,hinh_anh:""},$("#nhanvienmodal").modal("show")}const c=N(()=>w.nhan_vien_list);S(e,a=>{i.visit(route("nhanvien.index",{search:a}),{preserveState:!0})});function C(a){i.visit(a,{preserveState:!0})}function T(a){console.log(e.value),l.value={id:a.id,name:a.name,email:a.email,password:"",phong_ban_id:a.phong_ban_id,dia_chi:a.dia_chi,dien_thoai:a.dien_thoai,cccd:a.cccd,ngay_cap:a.ngay_cap,ghi_chu:a.ghi_chu,muc_luong:a.muc_luong,hinh_anh:a.hinh_anh},$("#nhanvienmodal").modal("show")}function V(a){confirm("Bạn có chắc chắn muốn xóa nhân viên này không?")&&i.delete(route("NhanVien.delete",{id:a}),{onSuccess:()=>{i.visit(route("nhanvien.index"))},onError:()=>{console.log(form.errors)}})}return(a,h)=>(s(),D(q,null,{default:M(()=>{var u,m,p;return[L,n("div",Q,[n("div",R,[n("div",U,[n("div",X,[n("a",{onClick:d(x,["prevent"]),class:"btn btn-primary form-control"},"Thêm nhân viên")]),n("div",z,[n("form",null,[n("div",A,[G,H,n("div",J,[n("div",W,[O(n("input",{"onUpdate:modelValue":h[0]||(h[0]=t=>E(e)?e.value=t:e=t),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm nhân viên"},null,512),[[j,b(e)]]),Y])])])])])]),n("table",Z,[k,n("tbody",null,[((m=(u=c.value)==null?void 0:u.data)==null?void 0:m.length)===0?(s(),_("tr",nn,tn)):(s(!0),_(F,{key:1},P((p=c.value)==null?void 0:p.data,t=>{var v;return s(),_("tr",{key:t.id},[n("td",null,o(t.name),1),n("td",null,o(t.email),1),n("td",null,o(t.dia_chi),1),n("td",null,o((v=t.phong_ban)==null?void 0:v.ten),1),n("td",en,[n("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:d(B=>T(t),["prevent"])},"Sửa",8,sn),n("a",{class:"btn btn-danger btn-sm",onClick:d(B=>V(t.id),["prevent"])},"Xóa",8,on)])])}),128))])]),f(K,{data:c.value,onChangePage:C},null,8,["data"])])]),f(I,{nhan_vien:b(l),phong_ban_list:r.phong_ban_list},null,8,["nhan_vien","phong_ban_list"])]}),_:1}))}};export{mn as default};
