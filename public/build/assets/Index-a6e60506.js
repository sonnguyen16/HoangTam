import{h as _,i as T,j as y,o as d,b as B,d as M,a as t,w as h,f as g,B as N,p as b,t as a,u as U,c as r,l as V,F,m as D,O as v,C as n,n as O,e as j}from"./app-d9797e36.js";import{_ as z}from"./MainLayout-605696c2.js";/* empty css                     *//* empty css              */const X=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[b("Báo cáo "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),b(" Nhập xuất tồn")])])],-1),$={class:"card shadow card-child",style:{}},A={class:"card-body"},E={class:"row mb-3"},I={class:"col-md-12"},K={class:"row"},L={class:"col-md-5"},P={class:"row"},G={class:"col-lg-6"},H={class:"form-record"},J=t("label",null,"Từ ngày",-1),Q={class:"col-lg-6"},R={class:"form-record"},W=t("label",null,"Đến ngày",-1),Y={class:"col-md-4 d-flex align-items-center"},Z=t("span",{class:"font-weight-bold me-5"},"Xem tất cả",-1),tt=t("span",{class:"font-weight-bold me-2 ms-5"},"Tổng tồn cuối:",-1),et={class:"col-md-3"},st={class:"input-group"},at=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),lt={class:"table table-bordered table-responsive-md"},ot=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Mã sản phẩm"),t("th",null,"Tên sản phẩm"),t("th",null,"Đơn vị tính"),t("th",null,"Tồn đầu"),t("th",null,"Nhập"),t("th",null,"Xuất"),t("th",null,"Điều chỉnh"),t("th",null,"Tồn cuối")])],-1),nt={key:0},ct=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),it=[ct],dt={class:"float-right mt-3 mb-0"},ut={class:"row"},rt={class:"col-md-12 col-lg-12 text-center"},_t={key:0,class:"pagination"},ht=["onClick"],gt={__name:"Index",props:{san_pham_list:Object},setup(S){const f=S,m=_(""),c=_(null),i=_(null),u=T(()=>p.value?f.san_pham_list:f.san_pham_list.filter(s=>s.ton_cuoi>0||s.nhap>0||s.xuat>0||s.dieu_chinh>0));y(m,s=>{v.visit(route("baocaotonkho.index",{search:s,ngay_bat_dau:c.value,ngay_ket_thuc:i.value}),{preserveState:!0})}),y(c,s=>{if(i.value<s){alert("Ngày bắt đầu không được lớn hơn ngày kết thúc"),c.value=oldValue;return}v.visit(route("baocaotonkho.index",{ngay_bat_dau:s,ngay_ket_thuc:i.value}),{preserveState:!0})}),y(i,s=>{if(c.value>s){alert("Ngày kết thúc không được nhỏ hơn ngày bắt đầu"),i.value=oldValue;return}v.visit(route("baocaotonkho.index",{ngay_ket_thuc:s,ngay_bat_dau:c.value}),{preserveState:!0})});function q(s){v.visit(s,{preserveState:!0})}let C=T(()=>u.value.reduce((s,l)=>s+l.ton_cuoi,0));const p=_(!1);function o(s){if(s.ton_cuoi<s.canh_bao||s.ton_cuoi===0)return"background-color: #f38e8e !important"}return(s,l)=>(d(),B(z,null,{default:M(()=>{var x,w;return[X,t("div",$,[t("div",A,[t("div",E,[t("div",I,[t("form",null,[t("div",K,[t("div",L,[t("div",P,[t("div",G,[t("div",H,[J,h(t("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),class:"form-control",name:"tu_ngay"},null,512),[[g,c.value]])])]),t("div",Q,[t("div",R,[W,h(t("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),class:"form-control",name:"den_ngay"},null,512),[[g,i.value]])])])])]),t("div",Y,[h(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e),type:"checkbox",class:"me-3"},null,512),[[N,p.value]]),Z,tt,b(a(U(C).toFixed(1)),1)]),t("div",et,[t("div",st,[h(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm sản phẩm"},null,512),[[g,m.value]]),at])])])])])]),t("table",lt,[ot,t("tbody",null,[((x=u.value)==null?void 0:x.length)===0?(d(),r("tr",nt,it)):(d(!0),r(F,{key:1},V(u.value,(e,k)=>(d(),r("tr",{key:e.id},[t("td",{style:n(o(e)),class:"quantity"},a(k+1),5),t("td",{style:n(o(e))},a(e.ma),5),t("td",{style:n(o(e))},a(e.ten),5),t("td",{style:n(o(e)),class:"quantity"},a(e.dvt),5),t("td",{style:n(o(e)),class:"quantity"},a(e.ton_dau.toFixed(1)||0),5),t("td",{style:n(o(e)),class:"quantity"},a(e.nhap.toFixed(1)||0),5),t("td",{style:n(o(e)),class:"quantity"},a(e.xuat.toFixed(1)||0),5),t("td",{style:n(o(e)),class:"quantity"},a(e.dieu_chinh.toFixed(1)||0),5),t("td",{style:n(o(e)),class:"quantity"},a(e.ton_cuoi.toFixed(1)||0),5)]))),128))])]),t("div",dt,[t("div",ut,[t("div",rt,[((w=u.value)==null?void 0:w.total)>10?(d(),r("ul",_t,[(d(!0),r(F,null,V(u.value.links.slice(1,-1),e=>(d(),r("li",{key:e,class:"page-item"},[t("a",{class:O(["page-link",{"bg-primary":e.label===u.value.current_page.toString()}]),onClick:j(k=>q(e.url),["prevent"])},a(e.label),11,ht)]))),128))])):D("",!0)])])])])])]}),_:1}))}};export{gt as default};
