import{h as r,i as D,j as p,o,b as F,d as N,a as t,w as v,f as b,c as _,l as S,k as y,F as u,g as Y,u as B,m as O,O as m,t as e,e as T,n as q}from"./app-794bf517.js";import{_ as K}from"./MainLayout-314c9a83.js";import{h as U}from"./moment-a9aaa855.js";import z from"./XuatKhoModal-d4849d1a.js";/* empty css                     *//* empty css              */import"./lodash-49b65741.js";import"./ChonDonHangModal-dbba32a4.js";import"./Pagination-ce423e0c.js";import"./_plugin-vue_export-helper-c27b6911.js";const E=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[O("Báo cáo "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),O(" Báo cáo xuất")])])],-1),I={class:"card shadow card-child",style:{}},L={class:"card-body"},P={class:"row mb-3"},X={class:"col-md-12"},A={class:"row"},G={class:"col-md-5"},H={class:"row"},J={class:"col-lg-6"},Q={class:"form-record"},R=t("label",null,"Từ ngày",-1),W={class:"col-lg-6"},Z={class:"form-record"},tt=t("label",null,"Đến ngày",-1),at=t("div",{class:"col-md-4 d-flex align-items-center"},null,-1),nt={class:"col-md-3"},st={class:"input-group"},et=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),ot={class:"table table-bordered table-responsive-md"},lt=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Ngày"),t("th",null,"Số phiếu"),t("th",null,"Khách hàng"),t("th",null,"Mã sản phẩm"),t("th",null,"ĐVT"),t("th",null,"Số lượng"),t("th",null,"Đơn giá"),t("th",null,"Thành tiền"),t("th")])],-1),it={key:0},_t=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),ct=[_t],dt={class:"quantity"},ht={class:"quantity"},rt={class:"money"},ut={class:"money"},mt={class:"quantity"},gt=["onClick"],pt={class:"float-right mt-3 mb-0"},vt={class:"row"},bt={class:"col-md-12 col-lg-12 text-center"},yt={key:0,class:"pagination"},ft=["onClick"],Dt={__name:"Index",props:{hoa_don_list:Object,khach_hang_list:Object,kho_list:Object,san_pham_list:Object,don_hang_ban_list:Object,du_an_list:Object},setup(d){const j=d;let f=r({id:"",ma:"",khach_hang:{},kho:{},ghi_chu:"",ngay:"",du_an_id:"",chi_tiet_hoa_don:[]});const g=r(""),l=r("2024-01-01"),i=r("2025-01-01"),h=D(()=>j.hoa_don_list);p(g,a=>{m.visit(route("baocaonhapxuat.index",{search:a,ngay_bat_dau:l.value,ngay_ket_thuc:i.value,loai:"xuat"}),{preserveState:!0})}),p(l,(a,s)=>{if(!a){l.value=s;return}if(i.value<a){alert("Ngày bắt đầu không được lớn hơn ngày kết thúc"),l.value=s;return}m.visit(route("baocaonhapxuat.index",{ngay_bat_dau:a,ngay_ket_thuc:i.value,loai:"xuat"}),{preserveState:!0})}),p(i,(a,s)=>{if(!a){i.value=s;return}if(l.value>a){alert("Ngày kết thúc không được nhỏ hơn ngày bắt đầu"),i.value=s;return}m.visit(route("baocaonhapxuat.index",{ngay_ket_thuc:a,ngay_bat_dau:l.value,loai:"xuat"}),{preserveState:!0})});function C(a){f.value={id:a.id,ma:a.ma,khach_hang:a.khach_hang,kho:a.kho,ghi_chu:a.ghi_chu,du_an_id:a.du_an_id,ngay:a.ngay,chi_tiet_hoa_don:a.chi_tiet_hoa_don},$("#hoadonmodal").modal("show")}function M(a){m.visit(a,{preserveState:!0})}return(a,s)=>(o(),F(K,null,{default:N(()=>{var k,x,w;return[E,t("div",I,[t("div",L,[t("div",P,[t("div",X,[t("form",null,[t("div",A,[t("div",G,[t("div",H,[t("div",J,[t("div",Q,[R,v(t("input",{type:"date","onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n),class:"form-control",name:"tu_ngay"},null,512),[[b,l.value]])])]),t("div",W,[t("div",Z,[tt,v(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=n=>i.value=n),class:"form-control",name:"den_ngay"},null,512),[[b,i.value]])])])])]),at,t("div",nt,[t("div",st,[v(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>g.value=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm sản phẩm"},null,512),[[b,g.value]]),et])])])])])]),t("table",ot,[lt,t("tbody",null,[((k=h.value)==null?void 0:k.length)===0?(o(),_("tr",it,ct)):S("",!0),(o(!0),_(u,null,y(h.value.data,n=>(o(),_(u,null,[(o(!0),_(u,null,y(n.chi_tiet_hoa_don,(c,V)=>(o(),_("tr",{key:c.id},[t("td",dt,e(V+1),1),t("td",null,e(B(U)(n.ngay).format("DD/MM/YYYY")),1),t("td",null,e(n.ma),1),t("td",null,e(n.khach_hang.ten),1),t("td",null,e(c.san_pham.ma),1),t("td",null,e(c.san_pham.don_vi_tinh.ten),1),t("td",ht,e(c.so_luong.toFixed(1)),1),t("td",rt,e(c.gia.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",ut,e(c.thanh_tien.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",mt,[t("a",{onClick:T(kt=>C(n),["prevent"]),class:"btn btn-primary btn-sm"},"Sửa",8,gt)])]))),128))],64))),256))])]),t("div",pt,[t("div",vt,[t("div",bt,[((x=h.value)==null?void 0:x.meta.total)>((w=h.value)==null?void 0:w.meta.per_page)?(o(),_("ul",yt,[(o(!0),_(u,null,y(h.value.meta.links.slice(1,-1),n=>(o(),_("li",{key:n,class:"page-item"},[t("a",{class:q(["page-link",{"bg-primary":n.label===h.value.meta.current_page.toString()}]),onClick:T(c=>M(n.url),["prevent"])},e(n.label),11,ft)]))),128))])):S("",!0)])])])])]),Y(z,{hoa_don:B(f),khach_hang_list:d.khach_hang_list,kho_list:d.kho_list,san_pham_list:d.san_pham_list,don_hang_ban_list:d.don_hang_ban_list,du_an_list:d.du_an_list},null,8,["hoa_don","khach_hang_list","kho_list","san_pham_list","don_hang_ban_list","du_an_list"])]}),_:1}))}};export{Dt as default};
