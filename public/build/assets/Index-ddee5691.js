import{h as f,i as j,j as B,o as e,b as M,d as N,a as t,e as h,w as P,f as V,u,p as E,c as _,k as F,F as I,g as y,O as o,t as a}from"./app-d39ee91f.js";import{_ as q}from"./MainLayout-7f49a012.js";import K from"./PhieuChiModal-9cd3e7fb.js";import{f as L}from"./script-4eb152de.js";import{_ as R}from"./Pagination-619e39c8.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";import"./moment-a9aaa855.js";const U={class:"card shadow card-child",style:{}},X={class:"card-body"},k={class:"row mb-3"},z={class:"col-md-2"},A={class:"col-md-10"},G={class:"row"},H=t("div",{class:"col-md-3"},null,-1),J=t("div",{class:"col-md-6"},null,-1),Q={class:"col-md-3"},W={class:"input-group"},Y=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),Z={class:"table table-bordered table-responsive-md"},tt=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Mã phiếu"),t("th",null,"Nhà cung cấp"),t("th",null,"Người chi"),t("th",null,"Dự án"),t("th",null,"Trạng thái"),t("th",null,"Ngày tạo"),t("th",null,"Số tiền"),t("th",null,"Thao tác")])],-1),it={key:0},nt=t("td",{colspan:"9",class:"text-center"},"Không có dữ liệu",-1),at=[nt],et={class:"quantity"},st={key:0,class:"badge badge-warning"},lt={key:1,class:"badge badge-success"},_t={class:"date"},ot={class:"money"},ct={style:{width:"10%"}},dt=["onClick"],ht=["href"],ut=["onClick"],xt={__name:"Index",props:{phieu_thu_chi_list:Object,nha_cung_cap_list:Object,du_an_list:Object,nhan_vien_list:Object,loai_thu_chi_list:Object},setup(w){const s=w;let c=f({id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""}),l=f("");function x(){c.value={id:"",ma:"",ngay:"",nha_cung_cap_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:""},$("#phieuthuchimodal").modal("show")}const d=j(()=>s.phieu_thu_chi_list);B(l,i=>{o.visit(route("phieuthuchi.index",{search:i,loai:"phieuchi"}),{preserveState:!0})});function C(i){o.visit(i,{preserveState:!0})}function S(i){c.value={id:i.id,ma:i.ma,ngay:i.ngay,nha_cung_cap_id:i.nha_cung_cap_id,du_an_id:i.du_an_id,nhan_vien_id:i.nhan_vien_id,loai_thu_chi_id:i.loai_thu_chi_id,ly_do:i.ly_do,so_tien:i.so_tien,trang_thai:i.trang_thai},$("#phieuthuchimodal").modal("show")}function D(i){confirm("Bạn có chắc chắn muốn xóa phiếu chi này không?")&&o.delete(route("phieuthuchi.delete",{id:i}),{onSuccess:()=>{o.visit(route("phieuthuchi.index",{loai:"phieuchi"}))},onError:()=>{console.log(form.errors)}})}return(i,r)=>(e(),M(q,null,{default:N(()=>{var p,m;return[t("div",U,[t("div",X,[t("div",k,[t("div",z,[t("a",{onClick:h(x,["prevent"]),class:"btn btn-primary form-control"},"Thêm phiếu chi")]),t("div",A,[t("form",null,[t("div",G,[H,J,t("div",Q,[t("div",W,[P(t("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>E(l)?l.value=n:l=n),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm phiếu chi"},null,512),[[V,u(l)]]),Y])])])])])]),t("table",Z,[tt,t("tbody",null,[((p=d.value)==null?void 0:p.data.length)===0?(e(),_("tr",it,at)):(e(!0),_(I,{key:1},F((m=d.value)==null?void 0:m.data,(n,O)=>{var g,v,b;return e(),_("tr",{key:n.id},[t("td",et,a(O+1),1),t("td",null,a(n.ma),1),t("td",null,a((g=n.nha_cung_cap)==null?void 0:g.ten),1),t("td",null,a((v=n.nhan_vien)==null?void 0:v.name),1),t("td",null,a((b=n.du_an)==null?void 0:b.ten),1),t("td",null,[n.trang_thai===0?(e(),_("span",st,"Chưa thanh toán")):(e(),_("span",lt,"Đã thanh toán"))]),t("td",_t,a(u(L)(n.created_at)),1),t("td",ot,a(n.so_tien.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1),t("td",ct,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:h(T=>S(n),["prevent"])},"Sửa",8,dt),t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",target:"_blank",href:i.route("phieuthuchi.print",{id:n.id})},"In Phiếu",8,ht),t("a",{class:"btn btn-danger btn-sm",onClick:h(T=>D(n.id),["prevent"])},"Xóa",8,ut)])])}),128))])]),y(R,{allData:d.value,onChangePage:C},null,8,["allData"])])]),y(K,{phieu_chi:u(c),nha_cung_cap_list:s.nha_cung_cap_list,du_an_list:s.du_an_list,nhan_vien_list:s.nhan_vien_list,loai_thu_chi_list:s.loai_thu_chi_list},null,8,["phieu_chi","nha_cung_cap_list","du_an_list","nhan_vien_list","loai_thu_chi_list"])]}),_:1}))}};export{xt as default};
