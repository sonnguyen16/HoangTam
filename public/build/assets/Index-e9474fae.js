import{h as p,i as S,j as B,o,b as D,d as T,a as t,e as d,w as M,f as O,u as g,p as V,c as h,k as j,F as E,g as v,O as i,t as s}from"./app-d50357bd.js";import{_ as F}from"./MainLayout-abac8664.js";import K from"./KhachHangModal-7d48dead.js";import{_ as N}from"./Pagination-b705b5e8.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";const P={class:"card shadow card-child",style:{}},G={class:"card-body"},H={class:"row mb-3"},I={class:"col-md-2"},L={class:"col-md-10"},R={class:"row"},U=t("div",{class:"col-md-3"},null,-1),W=t("div",{class:"col-md-6"},null,-1),X={class:"col-md-3"},q={class:"input-group"},z=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),A={class:"table table-bordered table-responsive-md"},J=t("thead",null,[t("tr",null,[t("th",null,"Tên khách hàng"),t("th",null,"Địa chỉ"),t("th",null,"Số điện thoại"),t("th",null,"Website"),t("th",null,"Ghi chú"),t("th",null,"Thao tác")])],-1),Q={key:0},Y=t("td",{colspan:"6",class:"text-center"},"Không có dữ liệu",-1),Z=[Y],tt={class:"action"},et=["onClick"],at=["onClick"],ht={__name:"Index",props:{khach_hang_list:Object},setup(b){const f=b;let l=p({id:"",ten:"",dia_chi:"",dien_thoai:"",website:"",ghi_chu:"",ton_dau:0}),n=p("");function k(){l.value={id:"",ten:"",dia_chi:"",dien_thoai:"",website:"",ghi_chu:"",ton_dau:0},$("#khachhangmodal").modal("show")}const c=S(()=>f.khach_hang_list);B(n,e=>{i.visit(route("khachhang.index",{search:e}),{preserveState:!0})});function w(e){i.visit(e,{preserveState:!0})}function y(e){console.log(n.value),l.value={id:e.id,ten:e.ten,dia_chi:e.dia_chi,dien_thoai:e.dien_thoai,website:e.website,ghi_chu:e.ghi_chu,ton_dau:e.ton_dau},$("#khachhangmodal").modal("show")}function x(e){confirm("Bạn có chắc chắn muốn xóa khách hàng này không?")&&i.delete(route("khachhang.delete",{id:e}),{onSuccess:()=>{i.visit(route("khachhang.index"))},onError:()=>{console.log(form.errors)}})}return(e,r)=>(o(),D(F,null,{default:T(()=>{var _,u,m;return[t("div",P,[t("div",G,[t("div",H,[t("div",I,[t("a",{onClick:d(k,["prevent"]),class:"btn btn-primary form-control"},"Thêm khách hàng")]),t("div",L,[t("form",null,[t("div",R,[U,W,t("div",X,[t("div",q,[M(t("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>V(n)?n.value=a:n=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm khách hàng"},null,512),[[O,g(n)]]),z])])])])])]),t("table",A,[J,t("tbody",null,[((u=(_=c.value)==null?void 0:_.data)==null?void 0:u.length)===0?(o(),h("tr",Q,Z)):(o(!0),h(E,{key:1},j((m=c.value)==null?void 0:m.data,a=>(o(),h("tr",{key:a.id},[t("td",null,s(a.ten),1),t("td",null,s(a.dia_chi),1),t("td",null,s(a.dien_thoai),1),t("td",null,s(a.website),1),t("td",null,s(a.ghi_chu),1),t("td",tt,[t("a",{class:"btn btn-primary btn-sm d-inline-block mr-2",onClick:d(C=>y(a),["prevent"])},"Sửa",8,et),t("a",{class:"btn btn-danger btn-sm",onClick:d(C=>x(a.id),["prevent"])},"Xóa",8,at)])]))),128))])]),v(N,{allData:c.value,onChangePage:w},null,8,["allData"])])]),v(K,{khach_hang:g(l)},null,8,["khach_hang"])]}),_:1}))}};export{ht as default};
