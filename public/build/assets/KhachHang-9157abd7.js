import{h as u,i as K,j as h,o as c,b as O,d as U,a as t,w as g,f as v,u as j,p as F,c as i,k as T,F as x,l as H,g as M,O as _,t as l,e as B,n as N}from"./app-12a71e80.js";import{_ as z}from"./MainLayout-cdeec635.js";import E from"./ChiTietKhachHang-04176ede.js";/* empty css                     *//* empty css              */import"./_plugin-vue_export-helper-c27b6911.js";import"./moment-a9aaa855.js";const L={class:"card shadow card-child",style:{}},P={class:"card-body"},R={class:"row mb-3"},X={class:"col-md-12"},A={class:"row"},G={class:"col-md-5"},I={class:"row"},J={class:"col-lg-6"},Q={class:"form-record"},W=t("label",null,"Từ ngày",-1),Y={class:"col-lg-6"},Z={class:"form-record"},tt=t("label",null,"Đến ngày",-1),at=t("div",{class:"col-md-4"},null,-1),et={class:"col-md-3"},st={class:"input-group"},nt=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),ot={class:"table table-bordered table-responsive-md"},lt=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Tên khách hàng"),t("th",null,"Số điện thoại"),t("th",null,"Địa chỉ"),t("th",null,"Tồn đầu"),t("th",null,"Xuất"),t("th",null,"Thu"),t("th",null,"Tồn cuối"),t("th")])],-1),ct={key:0},it=t("td",{colspan:"8",class:"text-center"},"Không có dữ liệu",-1),dt=[it],rt={class:"quantity"},ut={class:"quantity"},_t={class:"money"},ht={class:"money"},gt={class:"quantity"},vt={style:{width:"5%"}},mt=["onClick"],pt={class:"float-right mt-3 mb-0"},yt={class:"row"},bt={class:"col-md-12 col-lg-12 text-center"},kt={key:0,class:"pagination"},ft=["onClick"],qt={__name:"KhachHang",props:{khach_hang_list:Object},setup(C){const V=C;let d=u("");const n=u("2024-01-01"),o=u("2025-01-01"),m=u(null),r=K(()=>V.khach_hang_list);h(d,s=>{_.visit(route("baocaocongno.khachhang",{search:s,ngay_bat_dau:n.value,ngay_ket_thuc:o.value}),{preserveState:!0})}),h(n,(s,e)=>{if(!s){n.value=e;return}if(o.value<s){alert("Ngày bắt đầu không được lớn hơn ngày kết thúc"),n.value=e;return}_.visit(route("baocaocongno.khachhang",{ngay_bat_dau:s,ngay_ket_thuc:o.value}),{preserveState:!0})}),h(o,(s,e)=>{if(!s){o.value=e;return}if(n.value>s){alert("Ngày kết thúc không được nhỏ hơn ngày bắt đầu"),o.value=e;return}_.visit(route("baocaocongno.khachhang",{ngay_ket_thuc:s,ngay_bat_dau:n.value}),{preserveState:!0})});function q(s){_.visit(s,{preserveState:!0})}async function D(s){m.value=await axios({method:"get",url:route("baocaocongno.chitietkh",{id:s})}).then(e=>e.data).catch(e=>{console.log(e)}),$("#chitietkhmodal").modal("show")}return(s,e)=>(c(),O(z,null,{default:U(()=>{var p,y;return[t("div",L,[t("div",P,[t("div",R,[t("div",X,[t("form",null,[t("div",A,[t("div",G,[t("div",I,[t("div",J,[t("div",Q,[W,g(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),class:"form-control",name:"ngay_bat_dau"},null,512),[[v,n.value]])])]),t("div",Y,[t("div",Z,[tt,g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),class:"form-control",name:"ngay_ket_thuc"},null,512),[[v,o.value]])])])])]),at,t("div",et,[t("div",st,[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>F(d)?d.value=a:d=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm nhà cung cấp"},null,512),[[v,j(d)]]),nt])])])])])]),t("table",ot,[lt,t("tbody",null,[((p=r.value)==null?void 0:p.length)===0?(c(),i("tr",ct,dt)):(c(!0),i(x,{key:1},T(r.value,(a,b)=>{var k,f,w,S;return c(),i("tr",{key:a.id},[t("td",rt,l(b+1),1),t("td",null,l(a.ten),1),t("td",null,l(a.dien_thoai),1),t("td",null,l(a.dia_chi),1),t("td",ut,l(((k=a.ton_dau)==null?void 0:k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1),t("td",_t,l(((f=a.xuat)==null?void 0:f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1),t("td",ht,l(((w=a.thu)==null?void 0:w.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1),t("td",gt,l(((S=a.ton_cuoi)==null?void 0:S.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1),t("td",vt,[t("button",{onClick:B(wt=>D(a.id),["prevent"]),class:"btn btn-primary btn-sm"},"Chi tiết",8,mt)])])}),128))])]),t("div",pt,[t("div",yt,[t("div",bt,[((y=r.value)==null?void 0:y.total)>10?(c(),i("ul",kt,[(c(!0),i(x,null,T(r.value.links.slice(1,-1),a=>(c(),i("li",{key:a,class:"page-item"},[t("a",{class:N(["page-link",{"bg-primary":a.label===r.value.current_page.toString()}]),onClick:B(b=>q(a.url),["prevent"])},l(a.label),11,ft)]))),128))])):H("",!0)])])])])]),M(E,{khach_hang:m.value,ngay_bat_dau:n.value,ngay_ket_thuc:o.value},null,8,["khach_hang","ngay_bat_dau","ngay_ket_thuc"])]}),_:1}))}};export{qt as default};
