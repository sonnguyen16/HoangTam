import{h,i as F,j as u,o as c,b as q,d as D,a as t,w as g,f as v,u as K,p as N,c as i,k as f,F as w,l as O,g as U,m as x,O as _,t as l,e as T,n as j}from"./app-794bf517.js";import{_ as H}from"./MainLayout-314c9a83.js";import M from"./ChiTietKhachHang-c7d36639.js";/* empty css                     *//* empty css              */import"./moment-a9aaa855.js";const z=t("div",{class:"card shadow"},[t("div",{class:"card-body card-brc"},[t("p",{class:"txt-color mb-0 font-weight-bold"},[x("Báo cáo "),t("i",{class:"fa fa-angle-right mr-2 ml-2"}),x("Công nợ khách hàng")])])],-1),E={class:"card shadow card-child",style:{}},L={class:"card-body"},P={class:"row mb-3"},R={class:"col-md-12"},A={class:"row"},G={class:"col-md-5"},I={class:"row"},J={class:"col-lg-6"},Q={class:"form-record"},W=t("label",null,"Từ ngày",-1),X={class:"col-lg-6"},Y={class:"form-record"},Z=t("label",null,"Đến ngày",-1),tt=t("div",{class:"col-md-4"},null,-1),at={class:"col-md-3"},et={class:"input-group"},st=t("div",{class:"input-group-append"},[t("button",{class:"btn btn-primary",type:"submit"},[t("i",{class:"fas fa-search"})])],-1),nt={class:"table table-bordered table-responsive-md"},ot=t("thead",null,[t("tr",null,[t("th",null,"STT"),t("th",null,"Tên khách hàng"),t("th",null,"Số điện thoại"),t("th",null,"Địa chỉ"),t("th",null,"Tồn đầu"),t("th",null,"Thu"),t("th",null,"Tồn cuối"),t("th")])],-1),lt={key:0},ct=t("td",{colspan:"8",class:"text-center"},"Không có dữ liệu",-1),it=[ct],dt={class:"quantity"},rt={class:"quantity"},ht={class:"money"},_t={class:"quantity"},ut={style:{width:"4%"}},gt=["onClick"],vt={class:"float-right mt-3 mb-0"},mt={class:"row"},pt={class:"col-md-12 col-lg-12 text-center"},yt={key:0,class:"pagination"},bt=["onClick"],Bt={__name:"KhachHang",props:{khach_hang_list:Object},setup(C){const S=C;let d=h("");const n=h("2024-01-01"),o=h("2025-01-01"),m=h(null),r=F(()=>S.khach_hang_list);u(d,s=>{_.visit(route("baocaocongno.khachhang",{search:s,ngay_bat_dau:n.value,ngay_ket_thuc:o.value}),{preserveState:!0})}),u(n,(s,e)=>{if(!s){n.value=e;return}if(o.value<s){alert("Ngày bắt đầu không được lớn hơn ngày kết thúc"),n.value=e;return}_.visit(route("baocaocongno.khachhang",{ngay_bat_dau:s,ngay_ket_thuc:o.value}),{preserveState:!0})}),u(o,(s,e)=>{if(!s){o.value=e;return}if(n.value>s){alert("Ngày kết thúc không được nhỏ hơn ngày bắt đầu"),o.value=e;return}_.visit(route("baocaocongno.khachhang",{ngay_ket_thuc:s,ngay_bat_dau:n.value}),{preserveState:!0})});function B(s){_.visit(s,{preserveState:!0})}async function V(s){m.value=await axios({method:"get",url:route("baocaocongno.chitietkh",{id:s})}).then(e=>e.data).catch(e=>{console.log(e)}),$("#chitietkhmodal").modal("show")}return(s,e)=>(c(),q(H,null,{default:D(()=>{var p,y;return[z,t("div",E,[t("div",L,[t("div",P,[t("div",R,[t("form",null,[t("div",A,[t("div",G,[t("div",I,[t("div",J,[t("div",Q,[W,g(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),class:"form-control",name:"ngay_bat_dau"},null,512),[[v,n.value]])])]),t("div",X,[t("div",Y,[Z,g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),class:"form-control",name:"ngay_ket_thuc"},null,512),[[v,o.value]])])])])]),tt,t("div",at,[t("div",et,[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>N(d)?d.value=a:d=a),type:"text",name:"search",class:"form-control",placeholder:"Tìm kiếm nhà cung cấp"},null,512),[[v,K(d)]]),st])])])])])]),t("table",nt,[ot,t("tbody",null,[((p=r.value)==null?void 0:p.length)===0?(c(),i("tr",lt,it)):(c(!0),i(w,{key:1},f(r.value,(a,b)=>{var k;return c(),i("tr",{key:a.id},[t("td",dt,l(b+1),1),t("td",null,l(a.ten),1),t("td",null,l(a.dien_thoai),1),t("td",null,l(a.dia_chi),1),t("td",rt,l(a.ton_dau.toFixed(1)),1),t("td",ht,l(((k=a.thu)==null?void 0:k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0),1),t("td",_t,l(a.ton_cuoi.toFixed(1)),1),t("td",ut,[t("button",{onClick:T(kt=>V(a.id),["prevent"]),class:"btn btn-primary btn-sm"},"Chi tiết",8,gt)])])}),128))])]),t("div",vt,[t("div",mt,[t("div",pt,[((y=r.value)==null?void 0:y.total)>10?(c(),i("ul",yt,[(c(!0),i(w,null,f(r.value.links.slice(1,-1),a=>(c(),i("li",{key:a,class:"page-item"},[t("a",{class:j(["page-link",{"bg-primary":a.label===r.value.current_page.toString()}]),onClick:T(b=>B(a.url),["prevent"])},l(a.label),11,bt)]))),128))])):O("",!0)])])])])]),U(M,{khach_hang:m.value,ngay_bat_dau:n.value,ngay_ket_thuc:o.value},null,8,["khach_hang","ngay_bat_dau","ngay_ket_thuc"])]}),_:1}))}};export{Bt as default};
