import{T as v,z as h,q as f,A as b,o as d,c as i,a as o,e as _,w as l,f as r,u as n,n as u,B as w,F as y,k as x,t as k,O as M}from"./app-72c8dceb.js";const C={id:"nguoidungmodal",class:"modal fade",tabindex:"-1",role:"dialog"},U={class:"modal-dialog",role:"document"},V={class:"modal-content"},E={class:"modal-header"},S={class:"modal-body"},B={class:"form-group-container"},O={class:"form-group-title"},T={key:0,class:"txt-color mb-0 font-weight-bold"},D={key:1,class:"txt-color mb-0 font-weight-bold"},j={class:"form-group"},z=o("label",{for:"ten"},"Tên",-1),F={class:"form-group"},L=o("label",{for:"email"},"Email",-1),N={class:"form-group"},q=o("label",{for:"password"},"Mật khẩu",-1),A={class:"form-group"},H=o("label",{for:"don_vi_id"},"Đơn vị",-1),G=o("option",{value:""},"Chọn đơn vị",-1),I=["value"],J={class:"modal-footer"},K=["disabled"],Q={__name:"NguoiDungModal",props:{nguoi_dung:Object,don_vi_list:Object},setup(c){const a=c,e=v({id:"",name:"",email:"",password:"",role:1,don_vi_id:""});h(()=>{e.id=a.nguoi_dung.id,e.name=a.nguoi_dung.name,e.email=a.nguoi_dung.email,e.don_vi_id=a.nguoi_dung.don_vi_id});const p=()=>{e.post(route("nguoidung.store"),{onSuccess:()=>{$("#nguoidungmodal").modal("hide"),M.visit(route("nguoidung.index"))},onError:()=>{console.log(e.errors)}})},m=()=>{$("#nguoidungmodal").modal("hide"),e.reset(),e.clearErrors()};return f(()=>{$("#don_vi_id").select2({placeholder:"Chọn đơn vị",width:"100%"}).on("change",function(g){e.don_vi_id=$(this).val()})}),b(()=>{$("#don_vi_id").select2({placeholder:"Chọn đơn vị",width:"100%"})}),(g,t)=>(d(),i("div",C,[o("div",U,[o("div",V,[o("div",E,[o("button",{type:"button",class:"close",onClick:_(m,["prevent"])},"×")]),o("form",{onSubmit:_(p,["prevent"])},[o("div",S,[l(o("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=s=>n(e).id=s),id:"id",class:"form-control"},null,512),[[r,n(e).id]]),o("div",B,[o("div",O,[c.nguoi_dung.id?(d(),i("span",T,"Sửa người dùng")):(d(),i("span",D,"Thêm người dùng"))]),o("div",j,[z,o("div",null,[l(o("input",{class:u([{"border-danger":n(e).errors.name},"form-control"]),type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>n(e).name=s),id:"ten"},null,2),[[r,n(e).name]])])]),o("div",F,[L,o("div",null,[l(o("input",{class:u([{"border-danger":n(e).errors.email},"form-control"]),type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>n(e).email=s),id:"email"},null,2),[[r,n(e).email]])])]),o("div",N,[q,o("div",null,[l(o("input",{autocomplete:"",class:u([{"border-danger":n(e).errors.password},"form-control"]),type:"password","onUpdate:modelValue":t[3]||(t[3]=s=>n(e).password=s),id:"password"},null,2),[[r,n(e).password]])])]),o("div",A,[H,o("div",null,[l(o("select",{class:u([{"border-danger":n(e).errors.don_vi_id},"form-control"]),"onUpdate:modelValue":t[4]||(t[4]=s=>n(e).don_vi_id=s),id:"don_vi_id"},[G,(d(!0),i(y,null,x(c.don_vi_list,s=>(d(),i("option",{value:s.id},k(s.ten),9,I))),256))],2),[[w,n(e).don_vi_id]])])])])]),o("div",J,[o("button",{type:"submit",disabled:n(e).processing,class:"btn btn-primary"},"Lưu",8,K),o("button",{type:"button",class:"btn btn-default",onClick:_(m,["prevent"])},"Hủy")])],32)])])]))}};export{Q as default};
