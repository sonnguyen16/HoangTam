import{T as b,z as y,q as k,A as C,o as a,c as s,a as o,e as v,w as l,f as r,u as i,n as h,B as u,F as c,k as g,t as p}from"./app-6e91d9b8.js";import{h as w}from"./moment-a9aaa855.js";const U={id:"phieuthuchimodal",class:"modal fade",role:"dialog"},V={class:"modal-dialog modal-lg",role:"document"},M={class:"modal-content"},x={class:"modal-header"},S={class:"modal-body"},D={class:"form-group-container"},T={class:"form-group-title"},j={key:0,class:"txt-color mb-0 font-weight-bold"},O={key:1,class:"txt-color mb-0 font-weight-bold"},B={class:"form-group"},E=o("label",{for:"ma"},"Mã phiếu",-1),L={class:"form-group"},Y=o("label",{for:"ngay"},"Ngày",-1),N={class:"form-group"},z=o("label",{for:"khach_hang_id"},"Khách hàng",-1),F=o("option",{value:""},"Chọn nhà cung cấp",-1),P=["value"],q={class:"form-group"},A=o("label",{for:"du_an_id"},"Dự án",-1),H=o("option",{value:""},"Chọn dự án",-1),K=["value"],G={class:"form-group"},I=o("label",{for:"nhan_vien_id"},"Nhân viên",-1),J=o("option",{value:""},"Chọn nhân viên",-1),Q=["value"],R={class:"form-group"},W=o("label",{for:"loai_thu_chi_id"},"Loại thu chi",-1),X=o("option",{value:""},"Chọn loại thu chi",-1),Z=["value"],oo={class:"form-group"},to=o("label",{for:"ly_do"},"Lý do",-1),no={class:"form-group"},io=o("label",{for:"so_tien"},"Số tiền",-1),eo={class:"form-group"},ao=o("label",{for:"trang_thai"},"Trạng thái",-1),so=o("option",{value:"0"},"Chưa thanh toán",-1),lo=o("option",{value:"1"},"Đã thanh toán",-1),ho=[so,lo],_o={class:"modal-footer"},ro=["disabled"],po={__name:"PhieuThuModal",props:{phieu_thu:Object,khach_hang_list:Object,du_an_list:Object,nhan_vien_list:Object,loai_thu_chi_list:Object},setup(_){const d=_,t=b({id:"",ma:"",ngay:"",khach_hang_id:"",du_an_id:"",nhan_vien_id:"",loai_thu_chi_id:"",ly_do:"",so_tien:0,trang_thai:"",loai:0});y(()=>{t.id=d.phieu_thu.id||"",t.ma=d.phieu_thu.ma||"",t.ngay=d.phieu_thu.ngay||w().format("YYYY-MM-DD"),t.khach_hang_id=d.phieu_thu.khach_hang_id||"",t.du_an_id=d.phieu_thu.du_an_id||"",t.nhan_vien_id=d.phieu_thu.nhan_vien_id||"",t.loai_thu_chi_id=d.phieu_thu.loai_thu_chi_id||"",t.ly_do=d.phieu_thu.ly_do||"",t.so_tien=d.phieu_thu.so_tien||0,t.trang_thai=d.phieu_thu.trang_thai});const f=()=>{d.phieu_thu.id||(t.ma="PT"+Date.now().toString().slice(-6)),t.post(route("phieuthuchi.store"),{onSuccess:()=>{m()},onError:()=>{console.log(t.errors)}})},m=()=>{$("#phieuthuchimodal").modal("hide"),t.reset(),t.clearErrors()};return k(()=>{$("#khach_hang_id").select2({placeholder:"Chọn khách hàng",width:"100%"}).on("change",function(){t.khach_hang_id=$(this).val()}),$("#du_an_id").select2({placeholder:"Chọn dự án",width:"100%"}).on("change",function(){t.du_an_id=$(this).val()}),$("#nhan_vien_id").select2({placeholder:"Chọn nhân viên",width:"100%"}).on("change",function(){t.nhan_vien_id=$(this).val()})}),C(()=>{$("#khach_hang_id").select2({placeholder:"Chọn khách hàng",width:"100%"}).val(t.khach_hang_id).trigger("change"),$("#du_an_id").select2({placeholder:"Chọn dự án",width:"100%"}).val(t.du_an_id).trigger("change"),$("#nhan_vien_id").select2({placeholder:"Chọn nhân viên",width:"100%"}).val(t.nhan_vien_id).trigger("change")}),(uo,e)=>(a(),s("div",U,[o("div",V,[o("div",M,[o("div",x,[o("button",{type:"button",class:"close",onClick:v(m,["prevent"])},"×")]),o("form",{onSubmit:v(f,["prevent"])},[o("div",S,[l(o("input",{type:"hidden","onUpdate:modelValue":e[0]||(e[0]=n=>i(t).id=n),id:"id",class:"form-control"},null,512),[[r,i(t).id]]),o("div",D,[o("div",T,[_.phieu_thu.id?(a(),s("span",j,"Sửa phiếu thu")):(a(),s("span",O,"Thêm phiếu thu"))]),o("div",B,[E,o("div",null,[l(o("input",{readonly:"",class:h([{"border-danger":i(t).errors.ma},"form-control"]),type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>i(t).ma=n),id:"ma"},null,2),[[r,i(t).ma]])])]),o("div",L,[Y,o("div",null,[l(o("input",{class:h([{"border-danger":i(t).errors.ngay},"form-control"]),type:"date","onUpdate:modelValue":e[2]||(e[2]=n=>i(t).ngay=n),id:"ngay"},null,2),[[r,i(t).ngay]])])]),o("div",N,[z,o("div",null,[l(o("select",{class:h({"border-danger":i(t).errors.khach_hang_id}),"onUpdate:modelValue":e[3]||(e[3]=n=>i(t).khach_hang_id=n),id:"khach_hang_id"},[F,(a(!0),s(c,null,g(_.khach_hang_list,n=>(a(),s("option",{key:n.id,value:n.id},p(n.ten),9,P))),128))],2),[[u,i(t).khach_hang_id]])])]),o("div",q,[A,o("div",null,[l(o("select",{class:h([{"border-danger":i(t).errors.du_an_id},"form-control"]),"onUpdate:modelValue":e[4]||(e[4]=n=>i(t).du_an_id=n),id:"du_an_id"},[H,(a(!0),s(c,null,g(_.du_an_list,n=>(a(),s("option",{key:n.id,value:n.id},p(n.ten),9,K))),128))],2),[[u,i(t).du_an_id]])])]),o("div",G,[I,o("div",null,[l(o("select",{class:h([{"border-danger":i(t).errors.nhan_vien_id},"form-control"]),"onUpdate:modelValue":e[5]||(e[5]=n=>i(t).nhan_vien_id=n),id:"nhan_vien_id"},[J,(a(!0),s(c,null,g(_.nhan_vien_list,n=>(a(),s("option",{key:n.id,value:n.id},p(n.name),9,Q))),128))],2),[[u,i(t).nhan_vien_id]])])]),o("div",R,[W,o("div",null,[l(o("select",{class:h([{"border-danger":i(t).errors.loai_thu_chi_id},"form-control"]),"onUpdate:modelValue":e[6]||(e[6]=n=>i(t).loai_thu_chi_id=n),id:"loai_thu_chi_id"},[X,(a(!0),s(c,null,g(_.loai_thu_chi_list,n=>(a(),s("option",{key:n.id,value:n.id},p(n.ten),9,Z))),128))],2),[[u,i(t).loai_thu_chi_id]])])]),o("div",oo,[to,o("div",null,[l(o("textarea",{class:h([{"border-danger":i(t).errors.ly_do},"form-control"]),type:"text","onUpdate:modelValue":e[7]||(e[7]=n=>i(t).ly_do=n),id:"ly_do"},`
                                    `,2),[[r,i(t).ly_do]])])]),o("div",no,[io,o("div",null,[l(o("input",{class:h([{"border-danger":i(t).errors.so_tien},"form-control"]),type:"number","onUpdate:modelValue":e[8]||(e[8]=n=>i(t).so_tien=n),id:"so_tien"},null,2),[[r,i(t).so_tien]])])]),o("div",eo,[ao,o("div",null,[l(o("select",{class:h([{"border-danger":i(t).errors.trang_thai},"form-control"]),"onUpdate:modelValue":e[9]||(e[9]=n=>i(t).trang_thai=n),id:"trang_thai"},ho,2),[[u,i(t).trang_thai]])])])])]),o("div",_o,[o("button",{type:"submit",disabled:i(t).processing,class:"btn btn-primary"},"Lưu",8,ro),o("button",{type:"button",class:"btn btn-default",onClick:v(m,["prevent"])},"Hủy")])],32)])])]))}};export{po as default};
